import matplotlib.pyplot as plt
from matplotlib.ticker import FuncFormatter

# Sample data, replace this with your actual data

memory_log = {
    "with all opt": [["batch 1 done", 2.491405256, 302388], ["batch 2 done", 2.544133066, 302388],
                     ["batch 3 done", 2.598914067, 302388], ["batch 4 done", 2.652652232, 302388],
                     ["batch 5 done", 2.706543721, 302388], ["batch 6 done", 2.765689235, 302388],
                     ["batch 7 done", 2.823141876, 302388], ["batch 8 done", 2.878816627, 302572],
                     ["batch 9 done", 2.932355222, 302572], ["batch 10 done", 2.983673158, 302572],
                     ["batch 11 done", 3.044350908, 302572], ["batch 12 done", 3.096111262, 302572],
                     ["batch 13 done", 3.150170523, 302760], ["batch 14 done", 3.207452655, 302760],
                     ["batch 15 done", 3.259296768, 302936], ["batch 16 done", 3.31438631, 302936],
                     ["batch 17 done", 3.371332414, 302936], ["batch 18 done", 3.417441904, 302936],
                     ["batch 19 done", 3.472338328, 303112], ["batch 20 done", 3.527376218, 303112],
                     ["batch 21 done", 3.585114746, 303112], ["batch 22 done", 3.640206232, 303252],
                     ["batch 23 done", 3.6924908480000003, 303628], ["batch 24 done", 3.741110627, 303812],
                     ["batch 25 done", 3.795784267, 303812], ["batch 26 done", 3.850006582, 303812],
                     ["batch 27 done", 3.902728008, 304008], ["batch 28 done", 3.951727734, 304008],
                     ["batch 29 done", 4.009608149, 304008], ["batch 30 done", 4.066398062, 304008],
                     ["batch 31 done", 4.11394033, 304008], ["batch 32 done", 4.1672332, 304008],
                     ["batch 33 done", 4.215045269, 304168], ["batch 34 done", 4.265491541, 304168],
                     ["batch 35 done", 4.316711275, 304168], ["batch 36 done", 4.370242536, 304168],
                     ["batch 37 done", 4.429192476, 304356], ["batch 38 done", 4.487559118, 304356],
                     ["batch 39 done", 4.541812606, 304356], ["batch 40 done", 4.599106813, 304356],
                     ["batch 41 done", 4.649334402, 304356], ["batch 42 done", 4.699720016, 304356],
                     ["batch 43 done", 4.758044423, 304548], ["batch 44 done", 4.814693447, 304548],
                     ["batch 45 done", 4.862959032, 304548], ["batch 46 done", 4.912112087, 304744],
                     ["batch 47 done", 4.966856472, 304744], ["batch 48 done", 5.016972031, 304744],
                     ["batch 49 done", 5.073734232, 304744], ["batch 50 done", 5.130399984, 304744],
                     ["batch 51 done", 5.188164555, 304744], ["batch 52 done", 5.242574947, 304936],
                     ["batch 53 done", 5.301416378, 305124], ["batch 54 done", 5.356441121, 305124],
                     ["batch 55 done", 5.410973167, 305124], ["batch 56 done", 5.463329756, 305124],
                     ["batch 57 done", 5.523187638, 305124], ["batch 58 done", 5.58184201, 305124],
                     ["batch 59 done", 5.637317121, 305124], ["batch 60 done", 5.688133872, 305328],
                     ["batch 61 done", 5.746442866, 305512], ["batch 62 done", 5.804734754, 305512],
                     ["batch 63 done", 5.859656212, 305512], ["batch 64 done", 5.910015142, 305512],
                     ["batch 65 done", 5.963420646, 305512], ["batch 66 done", 6.017696221, 305512],
                     ["batch 67 done", 6.07503179, 305512], ["batch 68 done", 6.134789286, 305512],
                     ["batch 69 done", 6.18513038, 305512], ["batch 70 done", 6.230320825, 305512],
                     ["batch 71 done", 6.286407005, 305512], ["batch 72 done", 6.342441341, 305512],
                     ["batch 73 done", 6.396440263, 305512], ["batch 74 done", 6.451999143, 305512],
                     ["batch 75 done", 6.507902465, 305684], ["batch 76 done", 6.559621178, 305684],
                     ["batch 77 done", 6.61043641, 305884], ["batch 78 done", 6.660130341, 305884],
                     ["batch 79 done", 6.710385062, 305884], ["batch 80 done", 6.76632613, 305884],
                     ["batch 81 done", 6.8223156320000005, 305884], ["batch 82 done", 6.875351172, 305884],
                     ["batch 83 done", 6.93381315, 305884], ["batch 84 done", 6.982337919, 305884],
                     ["batch 85 done", 7.035344694, 306092], ["batch 86 done", 7.083208722, 306092],
                     ["batch 87 done", 7.135045166, 306092], ["batch 88 done", 7.192238425, 306092],
                     ["batch 89 done", 7.249787663, 306288], ["batch 90 done", 7.30374427, 306288],
                     ["batch 91 done", 7.356293537, 306476], ["batch 92 done", 7.405650631, 306680],
                     ["batch 93 done", 7.453455821, 306680], ["batch 94 done", 7.502782638, 306680],
                     ["batch 95 done", 7.555721904, 309592], ["batch 96 done", 7.60235734, 309592],
                     ["batch 97 done", 7.65252085, 309592], ["batch 98 done", 7.709242303, 309592],
                     ["batch 99 done", 7.756088127, 309592], ["batch 100 done", 7.809715842, 309592],
                     ["batch 101 done", 7.86129888, 309592], ["batch 102 done", 7.915294054, 309592],
                     ["batch 103 done", 7.966541351, 309592], ["batch 104 done", 8.021834229, 309592],
                     ["batch 105 done", 8.075885861, 309592], ["batch 106 done", 8.129220497, 309592],
                     ["batch 107 done", 8.181523898, 309592], ["batch 108 done", 8.237355076, 309592],
                     ["batch 109 done", 8.294806349, 309696], ["batch 110 done", 8.356486595, 309696],
                     ["batch 111 done", 8.413132147, 309696], ["batch 112 done", 8.47102791, 309696],
                     ["batch 113 done", 8.522845967, 309696], ["batch 114 done", 8.580403653, 309696],
                     ["batch 115 done", 8.631320056, 309696], ["batch 116 done", 8.684169174, 309696],
                     ["batch 117 done", 8.733158669, 309696], ["batch 118 done", 8.787453045, 309696],
                     ["batch 119 done", 8.839347242, 309696], ["batch 120 done", 8.893884225, 309696],
                     ["batch 121 done", 8.954037602, 309696], ["batch 122 done", 9.01407541, 309696],
                     ["batch 123 done", 9.068769195, 309696], ["batch 124 done", 9.116146172, 309696],
                     ["batch 125 done", 9.175294472, 309696], ["batch 126 done", 9.230946819, 309696],
                     ["batch 127 done", 9.290198973, 309696], ["batch 128 done", 9.348374698, 309696],
                     ["batch 129 done", 9.409602972, 309696], ["batch 130 done", 9.469244416, 309696],
                     ["batch 131 done", 9.521121989, 309696], ["batch 132 done", 9.570714403, 309696],
                     ["batch 133 done", 9.624284317, 309696], ["batch 134 done", 9.675482834, 309696],
                     ["batch 135 done", 9.731854633, 309984], ["batch 136 done", 9.790827943, 310020],
                     ["batch 137 done", 9.844883049, 310020], ["batch 138 done", 9.893233464, 310020],
                     ["batch 139 done", 9.94519452, 310020], ["batch 140 done", 9.99117878, 310020],
                     ["batch 141 done", 10.047499339, 310020], ["batch 142 done", 10.107237959, 310020],
                     ["batch 143 done", 10.158303444, 310020], ["batch 144 done", 10.211749345, 310020],
                     ["batch 145 done", 10.267228637, 310020], ["batch 146 done", 10.320069518, 310020],
                     ["batch 147 done", 10.37054887, 310064], ["batch 148 done", 10.422729907, 310064],
                     ["batch 149 done", 10.475637731, 310064], ["batch 150 done", 10.536705042, 310064],
                     ["batch 151 done", 10.591918145, 310064], ["batch 152 done", 10.640155494, 310064],
                     ["batch 153 done", 10.694717796, 310064], ["batch 154 done", 10.751504729, 310064],
                     ["batch 155 done", 10.802014789, 310112], ["batch 156 done", 10.858050643, 310112],
                     ["batch 157 done", 10.914567929, 310112], ["batch 158 done", 10.969061888, 310112],
                     ["batch 159 done", 11.023425663, 310112], ["batch 160 done", 11.070924399999999, 310112],
                     ["batch 161 done", 11.119607331, 310112], ["batch 162 done", 11.163588675, 310112],
                     ["batch 163 done", 11.210106352, 310112], ["batch 164 done", 11.265337363, 310112],
                     ["batch 165 done", 11.318416095, 310112], ["batch 166 done", 11.371735194, 310112],
                     ["batch 167 done", 11.422895258, 310112], ["batch 168 done", 11.475931068, 310112],
                     ["batch 169 done", 11.532057799, 310112], ["batch 170 done", 11.583588448, 310152],
                     ["batch 171 done", 11.638782984, 310224], ["batch 172 done", 11.693376055, 310224],
                     ["batch 173 done", 11.746818524, 310224], ["batch 174 done", 11.796304108, 310332],
                     ["batch 175 done", 11.855387362, 310332], ["batch 176 done", 11.903761253, 310332],
                     ["batch 177 done", 11.959179115, 310332], ["batch 178 done", 12.014881683, 310332],
                     ["batch 179 done", 12.067406847, 310512], ["batch 180 done", 12.117290889, 310972],
                     ["batch 181 done", 12.178131772, 310988], ["batch 182 done", 12.235028522, 310988],
                     ["batch 183 done", 12.284188664, 310988], ["batch 184 done", 12.339795406, 310988],
                     ["batch 185 done", 12.388727613, 310988], ["batch 186 done", 12.43943526, 310988],
                     ["batch 187 done", 12.481307756, 310988], ["batch 188 done", 12.534290968, 310988],
                     ["batch 189 done", 12.586395126, 310988], ["batch 190 done", 12.638718808, 310988],
                     ["batch 191 done", 12.69632438, 311080], ["batch 192 done", 12.752538818, 311080],
                     ["batch 193 done", 12.802901728, 311188], ["batch 194 done", 12.854330712, 311188],
                     ["batch 195 done", 12.907008489999999, 311188], ["batch 196 done", 12.966487537999999, 311188],
                     ["batch 197 done", 13.019775186, 311188], ["batch 198 done", 13.078203834, 311188],
                     ["batch 199 done", 13.131411308, 311188], ["batch 200 done", 13.185122698, 311200],
                     ["batch 201 done", 13.242873321, 311288], ["batch 202 done", 13.299751575, 311288],
                     ["batch 203 done", 13.355968934, 311296], ["batch 204 done", 13.413273988, 311304],
                     ["batch 205 done", 13.463221207, 311312], ["batch 206 done", 13.512008455, 311312],
                     ["batch 207 done", 13.570657369, 311312], ["batch 208 done", 13.621010713, 311316],
                     ["batch 209 done", 13.670698691, 311316], ["batch 210 done", 13.718915379, 311328],
                     ["batch 211 done", 13.771494549, 311340], ["batch 212 done", 13.820402586, 311340],
                     ["batch 213 done", 13.878028257, 311340], ["batch 214 done", 13.929571967, 311340],
                     ["batch 215 done", 13.982197509, 311340], ["batch 216 done", 14.034781652, 311340],
                     ["batch 217 done", 14.088174942, 311340], ["batch 218 done", 14.14128622, 311340],
                     ["batch 219 done", 14.191671972, 311340], ["batch 220 done", 14.249890412, 311340],
                     ["batch 221 done", 14.304815177, 311340], ["batch 222 done", 14.360315289, 311340],
                     ["batch 223 done", 14.412338623, 311340], ["batch 224 done", 14.469640069, 311340],
                     ["batch 225 done", 14.521365206, 311340], ["batch 226 done", 14.576042719, 311344],
                     ["batch 227 done", 14.622744388, 311344], ["batch 228 done", 14.674864242, 311344],
                     ["batch 229 done", 14.732884021, 311344], ["batch 230 done", 14.791215919, 311344],
                     ["batch 231 done", 14.844796884, 311344], ["batch 232 done", 14.894781524999999, 311352],
                     ["batch 233 done", 14.950183934, 311352], ["batch 234 done", 15.008277906, 311352],
                     ["batch 235 done", 15.067221881, 311452], ["batch 236 done", 15.119116324, 311468],
                     ["batch 237 done", 15.177363317, 311476], ["batch 238 done", 15.228147895, 311488],
                     ["batch 239 done", 15.284739205, 311488], ["batch 240 done", 15.336750914, 311488],
                     ["batch 241 done", 15.391317705, 311496], ["batch 242 done", 15.442266264, 311496],
                     ["batch 243 done", 15.495191906, 311496], ["batch 244 done", 15.549785924, 311500],
                     ["batch 245 done", 15.6039161, 311500], ["batch 246 done", 15.650503818, 311504],
                     ["batch 247 done", 15.707084853, 311504], ["batch 248 done", 15.763698053, 311504],
                     ["batch 249 done", 15.813392759, 311504], ["batch 250 done", 15.870821131, 311504],
                     ["batch 251 done", 15.926261703, 311504], ["batch 252 done", 15.974057527, 311504],
                     ["batch 253 done", 16.027742974, 311504], ["batch 254 done", 16.080313411, 311504],
                     ["batch 255 done", 16.135566407, 311504], ["batch 256 done", 16.19359276, 311504],
                     ["batch 257 done", 16.253941253, 311504], ["batch 258 done", 16.310471159, 311504],
                     ["batch 259 done", 16.364743845, 311504], ["batch 260 done", 16.414124632, 311504],
                     ["batch 261 done", 16.465777022, 311504], ["batch 262 done", 16.518753773, 311504],
                     ["batch 263 done", 16.568021265, 311504], ["batch 264 done", 16.619440423, 311504],
                     ["batch 265 done", 16.674115604, 311504], ["batch 266 done", 16.733277611, 311504],
                     ["batch 267 done", 16.789602428, 311504], ["batch 268 done", 16.840944966, 311512],
                     ["batch 269 done", 16.895420765, 311512], ["batch 270 done", 16.949842911, 311512],
                     ["batch 271 done", 16.999851692, 311512], ["batch 272 done", 17.052350269, 311512],
                     ["batch 273 done", 17.106606252, 311524], ["batch 274 done", 17.161936776, 311524],
                     ["batch 275 done", 17.213602345, 311524], ["batch 276 done", 17.270248637, 311524],
                     ["batch 277 done", 17.324823906, 311524], ["batch 278 done", 17.367639601, 311524],
                     ["batch 279 done", 17.422495973, 311524], ["batch 280 done", 17.474675928, 311524],
                     ["batch 281 done", 17.531347166, 311524], ["batch 282 done", 17.584921141, 311524],
                     ["batch 283 done", 17.643871472, 311524], ["batch 284 done", 17.696007227, 311524],
                     ["batch 285 done", 17.747280251, 311524], ["batch 286 done", 17.796998365, 311524],
                     ["batch 287 done", 17.852988416, 311524], ["batch 288 done", 17.907658788, 311524],
                     ["batch 289 done", 17.95485995, 311524], ["batch 290 done", 18.005371325, 311524],
                     ["batch 291 done", 18.064005222, 311524], ["batch 292 done", 18.114782727, 311524],
                     ["batch 293 done", 18.167248173, 311524], ["batch 294 done", 18.215929352, 311540],
                     ["batch 295 done", 18.273844394, 311540], ["batch 296 done", 18.325727091, 311540],
                     ["batch 297 done", 18.376369132, 311540], ["batch 298 done", 18.428895774, 311540],
                     ["batch 299 done", 18.485682237, 311540], ["batch 300 done", 18.538854556, 311540],
                     ["batch 301 done", 18.592812332, 311540], ["batch 302 done", 18.638906232, 311540],
                     ["batch 303 done", 18.691217401, 311540], ["batch 304 done", 18.741370698, 311540],
                     ["batch 305 done", 18.794375002, 311544], ["batch 306 done", 18.849202063, 311544],
                     ["batch 307 done", 18.901827838, 311544], ["batch 308 done", 18.955733524, 311544],
                     ["batch 309 done", 19.011024613, 311544], ["batch 310 done", 19.066611266, 311544],
                     ["batch 311 done", 19.119268567, 311544], ["batch 312 done", 19.171201594, 311544],
                     ["batch 313 done", 19.227796335, 311560], ["batch 314 done", 19.27561153, 311592],
                     ["batch 315 done", 19.328053766, 311592], ["batch 316 done", 19.378789575, 311600],
                     ["batch 317 done", 19.433514747, 311600], ["batch 318 done", 19.485155906, 311600],
                     ["batch 319 done", 19.539041129, 311600], ["batch 320 done", 19.59132592, 311600],
                     ["batch 321 done", 19.645371689, 311772], ["batch 322 done", 19.704124007, 311928],
                     ["batch 323 done", 19.760057709, 311952], ["batch 324 done", 19.813027134, 311952],
                     ["batch 325 done", 19.871163757, 311968], ["batch 326 done", 19.92743422, 311968],
                     ["batch 327 done", 19.976633214, 312076], ["batch 328 done", 20.030877711, 312076],
                     ["batch 329 done", 20.087308957, 312076], ["batch 330 done", 20.14010973, 312076],
                     ["batch 331 done", 20.196083626, 312076], ["batch 332 done", 20.250931589, 312108],
                     ["batch 333 done", 20.308961702, 312124], ["batch 334 done", 20.363695455, 312124],
                     ["batch 335 done", 20.417922257, 312124], ["batch 336 done", 20.470858928, 312124],
                     ["batch 337 done", 20.524042344, 312124], ["batch 338 done", 20.57614801, 312124],
                     ["batch 339 done", 20.632122085, 312132], ["batch 340 done", 20.687114694999998, 312152],
                     ["batch 341 done", 20.740101775, 312152], ["batch 342 done", 20.790213209, 312152],
                     ["batch 343 done", 20.845953807, 312152], ["batch 344 done", 20.896735829, 312152],
                     ["batch 345 done", 20.956969376, 312152], ["batch 346 done", 21.014849887, 312152],
                     ["batch 347 done", 21.066907138, 312152], ["batch 348 done", 21.114354341, 312152],
                     ["batch 349 done", 21.168698005, 312152], ["batch 350 done", 21.221497227, 312152],
                     ["batch 351 done", 21.273262731, 312152], ["batch 352 done", 21.331395045, 312152],
                     ["batch 353 done", 21.388121365, 312152], ["batch 354 done", 21.449477226, 312152],
                     ["batch 355 done", 21.50404447, 312152], ["batch 356 done", 21.559830079, 312152],
                     ["batch 357 done", 21.611383682, 312152], ["batch 358 done", 21.662688084, 312152],
                     ["batch 359 done", 21.717394273, 312152], ["batch 360 done", 21.770402082, 312152],
                     ["batch 361 done", 21.827314666, 312168], ["batch 362 done", 21.878818502, 312168],
                     ["batch 363 done", 21.925312207, 312168], ["batch 364 done", 21.97820556, 312168],
                     ["batch 365 done", 22.035333811, 312168], ["batch 366 done", 22.08761129, 312168],
                     ["batch 367 done", 22.142678894, 312168], ["batch 368 done", 22.195616707, 312168],
                     ["batch 369 done", 22.245700955, 312168], ["batch 370 done", 22.298960102, 312168],
                     ["batch 371 done", 22.351899309, 312168], ["batch 372 done", 22.405205543, 312168],
                     ["batch 373 done", 22.463323413, 312212], ["batch 374 done", 22.515133324, 312212],
                     ["batch 375 done", 22.570996858, 312212], ["batch 376 done", 22.624507343, 312212],
                     ["batch 377 done", 22.6790942, 312212], ["batch 378 done", 22.736358226, 312212],
                     ["batch 379 done", 22.791039786, 312212], ["batch 380 done", 22.847279667, 312212],
                     ["batch 381 done", 22.896762771, 312236], ["batch 382 done", 22.946820428, 312236],
                     ["batch 383 done", 23.003678359, 312236], ["batch 384 done", 23.055593779, 312236],
                     ["batch 385 done", 23.109830713, 312236], ["batch 386 done", 23.167413753, 312236],
                     ["batch 387 done", 23.225946509, 312236], ["batch 388 done", 23.284940657, 312316],
                     ["batch 389 done", 23.334206623, 312516], ["batch 390 done", 23.386958878, 312528],
                     ["batch 391 done", 23.436311386, 312528], ["batch 392 done", 23.490971442, 312528],
                     ["batch 393 done", 23.544021893, 312528], ["batch 394 done", 23.594263202, 312556],
                     ["batch 395 done", 23.648882292, 312556], ["batch 396 done", 23.707898471, 312556],
                     ["batch 397 done", 23.760863935, 312592], ["batch 398 done", 23.811070909, 312608],
                     ["batch 399 done", 23.863372286, 312608], ["batch 400 done", 23.922108021, 312608],
                     ["batch 401 done", 23.979545963, 312608], ["batch 402 done", 24.031698391, 312608],
                     ["batch 403 done", 24.082599118, 312624], ["batch 404 done", 24.137279824, 312644],
                     ["batch 405 done", 24.192243824, 312644], ["batch 406 done", 24.246207283, 312644],
                     ["batch 407 done", 24.30347084, 312644], ["batch 408 done", 24.350971326, 312644],
                     ["batch 409 done", 24.403215611, 312644], ["batch 410 done", 24.455504326, 312644],
                     ["batch 411 done", 24.517633184, 312728], ["batch 412 done", 24.576159247, 312748],
                     ["batch 413 done", 24.638179649, 312764], ["batch 414 done", 24.694041824, 312764],
                     ["batch 415 done", 24.746863718, 312764], ["batch 416 done", 24.796009877, 312764],
                     ["batch 417 done", 24.847489565, 312764], ["batch 418 done", 24.904466783, 312764],
                     ["batch 419 done", 24.952681132, 312772], ["batch 420 done", 25.006491867, 312780],
                     ["batch 421 done", 25.062898542, 312780], ["batch 422 done", 25.11859653, 312780],
                     ["batch 423 done", 25.171468337, 312780], ["batch 424 done", 25.227504122, 312784],
                     ["batch 425 done", 25.283060311, 312784], ["batch 426 done", 25.334300319, 312784],
                     ["batch 427 done", 25.388087506, 312784], ["batch 428 done", 25.441763689, 312784],
                     ["batch 429 done", 25.49146526, 312788], ["batch 430 done", 25.539602271, 312788],
                     ["batch 431 done", 25.593802373, 312796], ["batch 432 done", 25.64903643, 312796],
                     ["batch 433 done", 25.702552893, 312796], ["batch 434 done", 25.756406472, 312796],
                     ["batch 435 done", 25.810191512, 312796], ["batch 436 done", 25.864501045, 312796],
                     ["batch 437 done", 25.914281222, 312796], ["batch 438 done", 25.965804108, 312796],
                     ["batch 439 done", 26.012520221, 312796], ["batch 440 done", 26.063132289, 312804],
                     ["batch 441 done", 26.111726433, 312804], ["batch 442 done", 26.161381557, 312804],
                     ["batch 443 done", 26.211081501, 312804], ["batch 444 done", 26.264392367, 312824],
                     ["batch 445 done", 26.315006826, 312824], ["batch 446 done", 26.365898585, 312824],
                     ["batch 447 done", 26.420053993, 312824], ["batch 448 done", 26.473816459, 312824],
                     ["batch 449 done", 26.526265409, 312824], ["batch 450 done", 26.577336509, 312824],
                     ["batch 451 done", 26.629659989, 312832], ["batch 452 done", 26.684854352, 312832],
                     ["batch 453 done", 26.737623314, 312832], ["batch 454 done", 26.784937968, 312832],
                     ["batch 455 done", 26.837352774, 312832], ["batch 456 done", 26.890213363, 312832],
                     ["batch 457 done", 26.942551914, 312832], ["batch 458 done", 26.992942668, 312836],
                     ["batch 459 done", 27.046908956, 312836], ["batch 460 done", 27.098238776, 312836],
                     ["batch 461 done", 27.151977938, 312836], ["batch 462 done", 27.203452206, 312836],
                     ["batch 463 done", 27.254347938, 312836], ["batch 464 done", 27.306133158, 312836],
                     ["batch 465 done", 27.359326227, 312836], ["batch 466 done", 27.410587015, 312836],
                     ["batch 467 done", 27.462935527, 312836], ["batch 468 done", 27.514399859, 312836],
                     ["batch 469 done", 27.571371711, 312836], ["batch 470 done", 27.617220345, 312860],
                     ["batch 471 done", 27.673588249, 312860], ["batch 472 done", 27.727828283, 312860],
                     ["batch 473 done", 27.779910564, 312860], ["batch 474 done", 27.835189497000002, 312860],
                     ["batch 475 done", 27.892365176, 312860], ["batch 476 done", 27.94975045, 312860],
                     ["batch 477 done", 28.003850214, 312860], ["batch 478 done", 28.062189832, 312864],
                     ["batch 479 done", 28.116885003, 312864], ["batch 480 done", 28.16830276, 312864],
                     ["batch 481 done", 28.223339613, 312864], ["batch 482 done", 28.272592151, 312872],
                     ["batch 483 done", 28.322954495, 312872], ["batch 484 done", 28.373906175, 312872],
                     ["batch 485 done", 28.423225435, 312872], ["batch 486 done", 28.471905452, 312872],
                     ["batch 487 done", 28.519645194, 312872], ["batch 488 done", 28.5770362, 312872],
                     ["batch 489 done", 28.632187088, 312872], ["batch 490 done", 28.685296452, 312872],
                     ["batch 491 done", 28.744031377, 312872], ["batch 492 done", 28.796496454, 312872],
                     ["batch 493 done", 28.846474614999998, 312872], ["batch 494 done", 28.895635724, 312872],
                     ["batch 495 done", 28.948125817, 312872], ["batch 496 done", 28.999402892, 312872],
                     ["batch 497 done", 29.053137509, 312872], ["batch 498 done", 29.111483277, 312872],
                     ["batch 499 done", 29.167888921, 312872], ["batch 500 done", 29.217282575, 312872],
                     ["batch 501 done", 29.268949767, 312872], ["batch 502 done", 29.321149174, 312872],
                     ["batch 503 done", 29.38037153, 312872], ["batch 504 done", 29.435347554, 312872],
                     ["batch 505 done", 29.486463618, 312872], ["batch 506 done", 29.539818789, 312872],
                     ["batch 507 done", 29.591662843, 312872], ["batch 508 done", 29.646682864, 312872],
                     ["batch 509 done", 29.699779548, 312872], ["batch 510 done", 29.75275235, 312872],
                     ["batch 511 done", 29.807415014, 312872], ["batch 512 done", 29.863069151, 312872],
                     ["batch 513 done", 29.914026127, 312872], ["batch 514 done", 29.965277323, 312872],
                     ["batch 515 done", 30.018496849, 312872], ["batch 516 done", 30.071097316, 312872],
                     ["batch 517 done", 30.126960019, 312872], ["batch 518 done", 30.178853107, 312872],
                     ["batch 519 done", 30.229025052, 312872], ["batch 520 done", 30.280642067, 312872],
                     ["batch 521 done", 30.337301069, 312872], ["batch 522 done", 30.394243875, 312872],
                     ["batch 523 done", 30.444268113, 312872], ["batch 524 done", 30.499390073, 312872],
                     ["batch 525 done", 30.553402649, 312872], ["batch 526 done", 30.608772649, 312872],
                     ["batch 527 done", 30.663942569, 312872], ["batch 528 done", 30.715937876, 312872],
                     ["batch 529 done", 30.770733189, 312872], ["batch 530 done", 30.832436751, 312872],
                     ["batch 531 done", 30.889546521, 312872], ["batch 532 done", 30.940240356, 312872],
                     ["batch 533 done", 30.99557503, 312872], ["batch 534 done", 31.05386207, 312872],
                     ["batch 535 done", 31.104826559, 312872], ["batch 536 done", 31.156056439, 312872],
                     ["batch 537 done", 31.205402944, 312872], ["batch 538 done", 31.250563271, 312872],
                     ["batch 539 done", 31.302618015, 312872], ["batch 540 done", 31.355231856, 312872],
                     ["batch 541 done", 31.406977794, 312872], ["batch 542 done", 31.463108403, 312872],
                     ["batch 543 done", 31.515105104, 312872], ["batch 544 done", 31.562386173, 312872],
                     ["batch 545 done", 31.61575307, 312872], ["batch 546 done", 31.668731104, 312872],
                     ["batch 547 done", 31.72032363, 312872], ["batch 548 done", 31.767650428, 312872],
                     ["batch 549 done", 31.819049269, 312872], ["batch 550 done", 31.86721567, 312900],
                     ["batch 551 done", 31.921010458, 312900], ["batch 552 done", 31.979388604, 312900],
                     ["batch 553 done", 32.034665269, 312900], ["batch 554 done", 32.091814481, 312900],
                     ["batch 555 done", 32.142982417, 312900], ["batch 556 done", 32.200039315, 312900],
                     ["batch 557 done", 32.25455242, 312900], ["batch 558 done", 32.302277418, 312900],
                     ["batch 559 done", 32.350095506, 312900], ["batch 560 done", 32.39701042, 312900],
                     ["batch 561 done", 32.447969675, 312900], ["batch 562 done", 32.497129281, 312900],
                     ["batch 563 done", 32.548791749, 312900], ["batch 564 done", 32.596652407, 312900],
                     ["batch 565 done", 32.654516881, 312900], ["batch 566 done", 32.70707064, 312900],
                     ["batch 567 done", 32.760102501, 312900], ["batch 568 done", 32.812871838, 312900],
                     ["batch 569 done", 32.871560567, 312900], ["batch 570 done", 32.920534282, 312900],
                     ["batch 571 done", 32.971392304, 312900], ["batch 572 done", 33.024320537, 312900],
                     ["batch 573 done", 33.079094422, 312900], ["batch 574 done", 33.132078909, 312900],
                     ["batch 575 done", 33.190827851, 312900], ["batch 576 done", 33.248747336, 312900],
                     ["batch 577 done", 33.300732763, 312900], ["batch 578 done", 33.353975924, 312900],
                     ["batch 579 done", 33.41251129, 312900], ["batch 580 done", 33.473156514, 312900],
                     ["batch 581 done", 33.526004275, 312900], ["batch 582 done", 33.580509693, 312900],
                     ["batch 583 done", 33.636702729, 312900], ["batch 584 done", 33.689453538, 312900],
                     ["batch 585 done", 33.742099174, 312900], ["batch 586 done", 33.799272248, 312900],
                     ["batch 587 done", 33.850721904, 312900], ["batch 588 done", 33.90246112, 312900],
                     ["batch 589 done", 33.948252716, 312900], ["batch 590 done", 34.002634496, 312900],
                     ["batch 591 done", 34.056398904, 312900], ["batch 592 done", 34.110547207, 312900],
                     ["batch 593 done", 34.15766579, 312900], ["batch 594 done", 34.209007979, 312900],
                     ["batch 595 done", 34.266978339, 312900], ["batch 596 done", 34.316916962, 312900],
                     ["batch 597 done", 34.369593421, 312900], ["batch 598 done", 34.419925841, 312900],
                     ["batch 599 done", 34.468250963, 312900], ["batch 600 done", 34.523838128, 312900],
                     ["batch 601 done", 34.576393293, 312900], ["batch 602 done", 34.634803202, 312900],
                     ["batch 603 done", 34.684717577, 312900], ["batch 604 done", 34.733188404, 312900],
                     ["batch 605 done", 34.784863568, 312900], ["batch 606 done", 34.838015788999996, 312900],
                     ["batch 607 done", 34.896636792, 312900], ["batch 608 done", 34.950724178, 312900],
                     ["batch 609 done", 35.003481461, 312900], ["batch 610 done", 35.058579238, 312900],
                     ["batch 611 done", 35.110960538, 312900], ["batch 612 done", 35.164775908, 312900],
                     ["batch 613 done", 35.22094379, 312920], ["batch 614 done", 35.273017855, 312920],
                     ["batch 615 done", 35.32428495, 312920], ["batch 616 done", 35.382502776, 312920],
                     ["batch 617 done", 35.43461736, 312920], ["batch 618 done", 35.49383179, 312920],
                     ["batch 619 done", 35.550497873, 312920], ["batch 620 done", 35.604036374, 312920],
                     ["batch 621 done", 35.652537532, 312920], ["batch 622 done", 35.706578242, 312928],
                     ["batch 623 done", 35.762505437, 312928], ["batch 624 done", 35.816249148, 312928],
                     ["batch 625 done", 35.869855025, 312928], ["batch 626 done", 35.924225596, 312928],
                     ["batch 627 done", 35.979524555, 312928], ["batch 628 done", 36.033495968, 312928],
                     ["batch 629 done", 36.09053551, 312928], ["batch 630 done", 36.146206547, 312928],
                     ["batch 631 done", 36.202481811, 312928], ["batch 632 done", 36.253733279, 312928],
                     ["batch 633 done", 36.307617869, 312928], ["batch 634 done", 36.367424974, 312928],
                     ["batch 635 done", 36.419808823, 312928], ["batch 636 done", 36.474845329, 312928],
                     ["batch 637 done", 36.533167564, 312928], ["batch 638 done", 36.587860229, 312928],
                     ["batch 639 done", 36.635787054, 312928], ["batch 640 done", 36.687419937, 312928],
                     ["batch 641 done", 36.741260109, 312928], ["batch 642 done", 36.791213393, 312928],
                     ["batch 643 done", 36.847640806, 312928], ["batch 644 done", 36.90122151, 312928],
                     ["batch 645 done", 36.956417497, 312928], ["batch 646 done", 37.007794087, 312928],
                     ["batch 647 done", 37.06665307, 312928], ["batch 648 done", 37.120301065, 312928],
                     ["batch 649 done", 37.176470845, 312928], ["batch 650 done", 37.229461785, 312928],
                     ["batch 651 done", 37.286840055, 312928], ["batch 652 done", 37.342629248, 312928],
                     ["batch 653 done", 37.399006515, 312928], ["batch 654 done", 37.454359246, 312928],
                     ["batch 655 done", 37.503813319, 312928], ["batch 656 done", 37.56022962, 312928],
                     ["batch 657 done", 37.617659326, 312928], ["batch 658 done", 37.668857368, 312928],
                     ["batch 659 done", 37.719721601, 312928], ["batch 660 done", 37.773688658, 312928],
                     ["batch 661 done", 37.832158595, 312928], ["batch 662 done", 37.883070563, 312928],
                     ["batch 663 done", 37.931602423, 312928], ["batch 664 done", 37.979621278, 312928],
                     ["batch 665 done", 38.034573734, 312928], ["batch 666 done", 38.088909802, 312928],
                     ["batch 667 done", 38.144613634, 312928], ["batch 668 done", 38.195841487, 312928],
                     ["batch 669 done", 38.249204521, 312928], ["batch 670 done", 38.298848183, 312928],
                     ["batch 671 done", 38.347850255, 312928], ["batch 672 done", 38.401815354, 312928],
                     ["batch 673 done", 38.459439506, 312928], ["batch 674 done", 38.515758152, 312928],
                     ["batch 675 done", 38.566059545, 312928], ["batch 676 done", 38.626949496, 312928],
                     ["batch 677 done", 38.68303967, 312928], ["batch 678 done", 38.735937133, 312928],
                     ["batch 679 done", 38.789260125, 312928], ["batch 680 done", 38.841915008, 312928],
                     ["batch 681 done", 38.892370144, 312928], ["batch 682 done", 38.943142005, 312928],
                     ["batch 683 done", 38.997701578, 312928], ["batch 684 done", 39.050342083, 312928],
                     ["batch 685 done", 39.103805806, 312928], ["batch 686 done", 39.155620848, 312928],
                     ["batch 687 done", 39.207046923, 312928], ["batch 688 done", 39.262025971, 312928],
                     ["batch 689 done", 39.312882283, 312928], ["batch 690 done", 39.36397573, 312960],
                     ["batch 691 done", 39.419783325, 312984], ["batch 692 done", 39.464178665, 312984],
                     ["batch 693 done", 39.515434636, 312984], ["batch 694 done", 39.563390046, 312984],
                     ["batch 695 done", 39.613210096, 312984], ["batch 696 done", 39.667955935, 312984],
                     ["batch 697 done", 39.720767113, 312984], ["batch 698 done", 39.772179768, 312984],
                     ["batch 699 done", 39.823892787, 312984], ["batch 700 done", 39.882258388, 312984],
                     ["batch 701 done", 39.936299207, 312984], ["batch 702 done", 39.993273907, 312984],
                     ["batch 703 done", 40.043584282, 312984], ["batch 704 done", 40.098440993, 312984],
                     ["batch 705 done", 40.15188985, 312984], ["batch 706 done", 40.210139952, 312984],
                     ["batch 707 done", 40.267602604, 312984], ["batch 708 done", 40.322769584, 312984],
                     ["batch 709 done", 40.378854967, 312984], ["batch 710 done", 40.435646688, 312984],
                     ["batch 711 done", 40.490360213, 312984], ["batch 712 done", 40.546773394, 312984],
                     ["batch 713 done", 40.603716394, 312984], ["batch 714 done", 40.659455007, 312984],
                     ["batch 715 done", 40.714305756, 312984], ["batch 716 done", 40.763183328, 312984],
                     ["batch 717 done", 40.812889555, 312984], ["batch 718 done", 40.866777001, 312984],
                     ["batch 719 done", 40.919172784, 312984], ["batch 720 done", 40.974582968, 312984],
                     ["batch 721 done", 41.027394637, 312984], ["batch 722 done", 41.08540492, 312984],
                     ["batch 723 done", 41.140141224, 312984], ["batch 724 done", 41.194981571, 312984],
                     ["batch 725 done", 41.244475712, 312984], ["batch 726 done", 41.295663216, 312984],
                     ["batch 727 done", 41.349307995, 312984], ["batch 728 done", 41.400481615, 312984],
                     ["batch 729 done", 41.446776887, 313020], ["batch 730 done", 41.497576956, 313020],
                     ["batch 731 done", 41.552227852, 313076], ["batch 732 done", 41.608299984, 313644],
                     ["batch 733 done", 41.660993676, 313736], ["batch 734 done", 41.707341248, 313736],
                     ["batch 735 done", 41.758170245, 313880], ["batch 736 done", 41.810388827, 313912],
                     ["batch 737 done", 41.86673744, 313912], ["batch 738 done", 41.918027502, 313916],
                     ["batch 739 done", 41.971376209, 313916], ["batch 740 done", 42.023714465, 313936],
                     ["batch 741 done", 42.071596123, 313936], ["batch 742 done", 42.122972922, 313936],
                     ["batch 743 done", 42.177402589, 313980], ["batch 744 done", 42.229923329, 313980],
                     ["batch 745 done", 42.284967124, 313996], ["batch 746 done", 42.338377315, 314052],
                     ["batch 747 done", 42.389343293, 314052], ["batch 748 done", 42.443419649, 314080],
                     ["batch 749 done", 42.496071935, 314080], ["batch 750 done", 42.549053898, 314128],
                     ["batch 751 done", 42.603398768, 314128], ["batch 752 done", 42.659322146, 314128],
                     ["batch 753 done", 42.711581562, 314128], ["batch 754 done", 42.766241471, 314128],
                     ["batch 755 done", 42.823408607, 314160], ["batch 756 done", 42.876397103, 314160],
                     ["batch 757 done", 42.928551926, 314160], ["batch 758 done", 42.981598991, 314160],
                     ["batch 759 done", 43.034760308, 314160], ["batch 760 done", 43.089631367, 314160],
                     ["batch 761 done", 43.148177266, 314160], ["batch 762 done", 43.198894965, 314160],
                     ["batch 763 done", 43.260191821, 314160], ["batch 764 done", 43.311753985, 314160],
                     ["batch 765 done", 43.361496967, 314160], ["batch 766 done", 43.421792164, 314196],
                     ["batch 767 done", 43.477007057, 314196], ["batch 768 done", 43.531815539, 314196],
                     ["batch 769 done", 43.587533484, 314196], ["batch 770 done", 43.641967924, 314196],
                     ["batch 771 done", 43.696096384, 314196], ["batch 772 done", 43.748342338, 314236],
                     ["batch 773 done", 43.798774775, 314236], ["batch 774 done", 43.848805055, 314236],
                     ["batch 775 done", 43.896515156, 314236], ["batch 776 done", 43.955929145, 314364],
                     ["batch 777 done", 44.00514242, 314480], ["batch 778 done", 44.062372838, 314480],
                     ["batch 779 done", 44.116258644, 314480], ["batch 780 done", 44.172233798, 314496],
                     ["batch 781 done", 44.22447853, 314508], ["batch 782 done", 44.280516464, 314520],
                     ["batch 783 done", 44.335716232, 314520], ["batch 784 done", 44.390195272, 314520],
                     ["batch 785 done", 44.442642635, 314520], ["batch 786 done", 44.503604145, 314520],
                     ["batch 787 done", 44.557924545, 314520], ["batch 788 done", 44.613291251, 314520],
                     ["batch 789 done", 44.668772835, 314520], ["batch 790 done", 44.718826302, 314520],
                     ["batch 791 done", 44.776636115, 314520], ["batch 792 done", 44.830915755, 314520],
                     ["batch 793 done", 44.885612821, 314520], ["batch 794 done", 44.940033221, 314520],
                     ["batch 795 done", 44.997108861, 314520], ["batch 796 done", 45.052164954, 314520],
                     ["batch 797 done", 45.102151635, 314524], ["batch 798 done", 45.165036323, 314548],
                     ["batch 799 done", 45.212538523, 314584], ["batch 800 done", 45.263317048, 314584],
                     ["batch 801 done", 45.313036784, 314596], ["batch 802 done", 45.36664486, 314600],
                     ["batch 803 done", 45.420446174, 314600], ["batch 804 done", 45.469156535, 314600],
                     ["batch 805 done", 45.516854439, 314600], ["batch 806 done", 45.575584274, 314600],
                     ["batch 807 done", 45.62713367, 314600], ["batch 808 done", 45.683135192, 314604],
                     ["batch 809 done", 45.740675807, 314604], ["batch 810 done", 45.801766726, 314604],
                     ["batch 811 done", 45.851157378, 314604], ["batch 812 done", 45.907198164, 314604],
                     ["batch 813 done", 45.965120318, 314604], ["batch 814 done", 46.021742803, 314604],
                     ["batch 815 done", 46.074713115, 314604], ["batch 816 done", 46.124479155, 314604],
                     ["batch 817 done", 46.17885591, 314604], ["batch 818 done", 46.234481832, 314604],
                     ["batch 819 done", 46.286554097, 314604], ["batch 820 done", 46.339774177, 314608],
                     ["batch 821 done", 46.392192428, 314608], ["batch 822 done", 46.445596803, 314608],
                     ["batch 823 done", 46.502166534, 314608], ["batch 824 done", 46.558541951, 314612],
                     ["batch 825 done", 46.613704204, 314612], ["batch 826 done", 46.666851573, 314612],
                     ["batch 827 done", 46.714696975, 314612], ["batch 828 done", 46.767495654, 314612],
                     ["batch 829 done", 46.825753574, 314612], ["batch 830 done", 46.883997354, 314616],
                     ["batch 831 done", 46.943887508, 314616], ["batch 832 done", 47.00038672, 314616],
                     ["batch 833 done", 47.052403177, 314616], ["batch 834 done", 47.108968927, 314616],
                     ["batch 835 done", 47.162994799, 314616], ["batch 836 done", 47.219291653, 314616],
                     ["batch 837 done", 47.271015543, 314616], ["batch 838 done", 47.326057031, 314616],
                     ["batch 839 done", 47.380662245, 314616], ["batch 840 done", 47.424987197, 314616],
                     ["batch 841 done", 47.475092126, 314616], ["batch 842 done", 47.520767334, 314616],
                     ["batch 843 done", 47.573866204, 314616], ["batch 844 done", 47.628524187, 314616],
                     ["batch 845 done", 47.683216619, 314616], ["batch 846 done", 47.736046969, 314616],
                     ["batch 847 done", 47.784083997, 314616], ["batch 848 done", 47.835835368, 314616],
                     ["batch 849 done", 47.888354968, 314616], ["batch 850 done", 47.945285296, 314616],
                     ["batch 851 done", 48.002513239, 314616], ["batch 852 done", 48.059449827, 314616],
                     ["batch 853 done", 48.118070335, 314616], ["batch 854 done", 48.17597585, 314616],
                     ["batch 855 done", 48.225028226, 314616], ["batch 856 done", 48.282024852, 314616],
                     ["batch 857 done", 48.341756324, 314616], ["batch 858 done", 48.391612663, 314616],
                     ["batch 859 done", 48.447407087, 314616], ["batch 860 done", 48.500610853, 314616],
                     ["batch 861 done", 48.557550031, 314616], ["batch 862 done", 48.611449355, 314616],
                     ["batch 863 done", 48.666146609, 314616], ["batch 864 done", 48.717726815, 314616],
                     ["batch 865 done", 48.767075171, 314616], ["batch 866 done", 48.821416469, 314616],
                     ["batch 867 done", 48.872247204, 314616], ["batch 868 done", 48.930260477, 314616],
                     ["batch 869 done", 48.986584802, 314616], ["batch 870 done", 49.039453344, 314616],
                     ["batch 871 done", 49.090244339, 314616], ["batch 872 done", 49.140378126, 314616],
                     ["batch 873 done", 49.188457731, 314616], ["batch 874 done", 49.243939301, 314616],
                     ["batch 875 done", 49.298161003, 314616], ["batch 876 done", 49.349520189, 314616],
                     ["batch 877 done", 49.397041431, 314616], ["batch 878 done", 49.444437556, 314624],
                     ["batch 879 done", 49.492205476, 314624], ["batch 880 done", 49.552516842, 314624],
                     ["batch 881 done", 49.612466815, 314684], ["batch 882 done", 49.669658596, 314768],
                     ["batch 883 done", 49.728921532, 314796], ["batch 884 done", 49.787224019, 314800],
                     ["batch 885 done", 49.844653402, 314808], ["batch 886 done", 49.902491355, 314812],
                     ["batch 887 done", 49.95179752, 314812], ["batch 888 done", 50.014350811, 314812],
                     ["batch 889 done", 50.065067679, 314812], ["batch 890 done", 50.123003009, 314824],
                     ["batch 891 done", 50.178881287, 314824], ["batch 892 done", 50.227974118, 314824],
                     ["batch 893 done", 50.274178051, 314824], ["batch 894 done", 50.327849686, 314824],
                     ["batch 895 done", 50.379492796, 314824], ["batch 896 done", 50.434088822, 314860],
                     ["batch 897 done", 50.488323583, 314860], ["batch 898 done", 50.549618314, 314860],
                     ["batch 899 done", 50.600341694, 314872], ["batch 900 done", 50.657182755, 314872],
                     ["batch 901 done", 50.707399727, 314872], ["batch 902 done", 50.756470597, 314872],
                     ["batch 903 done", 50.807779219, 314872], ["batch 904 done", 50.866993452, 314876],
                     ["batch 905 done", 50.919663664, 314876], ["batch 906 done", 50.970513527, 314876],
                     ["batch 907 done", 51.027539686, 314884], ["batch 908 done", 51.073887901, 314884],
                     ["batch 909 done", 51.125905927, 314884], ["batch 910 done", 51.180791496, 314888],
                     ["batch 911 done", 51.239480285, 314888], ["batch 912 done", 51.288834135, 314888],
                     ["batch 913 done", 51.34425352, 314908], ["batch 914 done", 51.405684666, 314908],
                     ["batch 915 done", 51.458894285, 314968], ["batch 916 done", 51.515724072, 314976],
                     ["batch 917 done", 51.570678814, 315008], ["batch 918 done", 51.623253231, 315012],
                     ["batch 919 done", 51.677898573, 315016], ["batch 920 done", 51.73618632, 315016],
                     ["batch 921 done", 51.791021483, 315016], ["batch 922 done", 51.842019675, 315016],
                     ["batch 923 done", 51.891066846, 315020], ["batch 924 done", 51.946769466, 315020],
                     ["batch 925 done", 51.994464222, 315028], ["batch 926 done", 52.04819284, 315028],
                     ["batch 927 done", 52.097554736, 315028], ["batch 928 done", 52.156904413, 315032],
                     ["batch 929 done", 52.212016569, 315032], ["batch 930 done", 52.26424114, 315032],
                     ["batch 931 done", 52.319143423, 315032], ["batch 932 done", 52.364347161, 315032],
                     ["batch 933 done", 52.42383221, 315032], ["batch 934 done", 52.472373315, 315032],
                     ["batch 935 done", 52.527818175, 315032], ["batch 936 done", 52.579845898, 315040],
                     ["batch 937 done", 52.638967577, 315040], ["batch 938 done", 52.695989829, 315048],
                     ["batch 939 done", 52.75449416, 315048], ["batch 940 done", 52.809643395, 315048],
                     ["batch 941 done", 52.864116168, 315048], ["batch 942 done", 52.916059578, 315048],
                     ["batch 943 done", 52.966937161, 315048], ["batch 944 done", 53.025302327, 315048],
                     ["batch 945 done", 53.076493245, 315048], ["batch 946 done", 53.128757583, 315048],
                     ["batch 947 done", 53.180136136, 315048], ["batch 948 done", 53.233950654, 315052],
                     ["batch 949 done", 53.28775609, 315052], ["batch 950 done", 53.340215957, 315052],
                     ["batch 951 done", 53.394518977, 315052], ["batch 952 done", 53.4533167, 315052],
                     ["batch 953 done", 53.510506959, 315052], ["batch 954 done", 53.56339318, 315052],
                     ["batch 955 done", 53.616494117, 315064], ["batch 956 done", 53.669959651, 315064],
                     ["batch 957 done", 53.721568965, 315068], ["batch 958 done", 53.775662553, 315072],
                     ["batch 959 done", 53.832888075, 315072], ["batch 960 done", 53.880715768, 315072],
                     ["batch 961 done", 53.932429915, 315072], ["batch 962 done", 53.987091162, 315072],
                     ["batch 963 done", 54.045955833, 315072], ["batch 964 done", 54.100052127, 315072],
                     ["batch 965 done", 54.152933855, 315072], ["batch 966 done", 54.213400695, 315072],
                     ["batch 967 done", 54.270834605, 315072], ["batch 968 done", 54.322246303, 315072],
                     ["batch 969 done", 54.377100382, 315072], ["batch 970 done", 54.435554542, 315072],
                     ["batch 971 done", 54.487131992, 315072], ["batch 972 done", 54.539996071, 315072],
                     ["batch 973 done", 54.594654447, 315072], ["batch 974 done", 54.645741825, 315080],
                     ["batch 975 done", 54.70132528, 315080], ["batch 976 done", 54.754687016, 315080],
                     ["batch 977 done", 54.801965284, 315080], ["batch 978 done", 54.855669358, 315080],
                     ["batch 979 done", 54.906930767, 315080], ["batch 980 done", 54.96258391, 315080],
                     ["batch 981 done", 55.020228339, 315080], ["batch 982 done", 55.075602013, 315080],
                     ["batch 983 done", 55.12787732, 315080], ["batch 984 done", 55.179087196, 315080],
                     ["batch 985 done", 55.230955458, 315080], ["batch 986 done", 55.288934835, 315080],
                     ["batch 987 done", 55.343141108, 315080], ["batch 988 done", 55.395386492, 315080],
                     ["batch 989 done", 55.450560191, 315080], ["batch 990 done", 55.501508029, 315080],
                     ["batch 991 done", 55.55567633, 315080], ["batch 992 done", 55.606722933, 315080],
                     ["batch 993 done", 55.65676577, 315080], ["batch 994 done", 55.708472159, 315088],
                     ["batch 995 done", 55.763219656, 315088], ["batch 996 done", 55.820627046, 315088],
                     ["batch 997 done", 55.872927112, 315088], ["batch 998 done", 55.922990475, 315088],
                     ["batch 999 done", 55.973055956, 315088], ["batch 1000 done", 56.018918875, 315088]]
}


# Helper function for formatting the y-axis
def mb_formatter(x, pos):
    return '{:.1f} MB'.format(x)


# Set up the plot
fig, ax = plt.subplots(figsize=(10, 6))

# Define colors for different lines
colors = ['blue', 'green', 'red', 'purple']
# Define line styles for different lines
line_styles = ['-', '--', '-.', ':']

# Plot each configuration
for (label, data), color, line_style in zip(memory_log.items(), colors, line_styles):
    # Convert memory usage to MB
    timestamps = [int(x[0].split(" ")[1]) for x in data]
    memory_usage = [x[2] / 1024 for x in data]  # Convert KB to MB

    # Plot monitoring points
    monitoring_timestamps = [x[1] for x in data]
    monitoring_memory_usage = [x[2] / 1024 for x in data]
    ax.plot(monitoring_timestamps, monitoring_memory_usage, label=label, color=color, linestyle=line_style, marker='o')

    # # Plot "After batch" points
    # batch_timestamps = [x[1] for x in data if x[0].startswith("After batch")]
    # batch_memory_usage = [x[2] / 1024 for x in data if x[0].startswith("After batch")]
    # ax.scatter(batch_timestamps, batch_memory_usage, color=color, s=100, edgecolors='black', zorder=5)

# Formatting the y-axis
ax.yaxis.set_major_formatter(FuncFormatter(mb_formatter))

# Adding labels and title
ax.set_xlabel('Time (s)', fontsize=14)
ax.set_ylabel('Memory Usage (MB)', fontsize=14)
ax.set_title('Memory Usage Over Time', fontsize=16)
ax.grid(True, linestyle='--', linewidth=0.5)

# Show legend
ax.legend()

# Display the plot
plt.tight_layout()
# plt.show()

# Save the plot
print(f"saving to ./internal/ml/model_slicing/exp_imgs/micro_memory_batch.pdf")
fig.savefig(f"./internal/ml/model_slicing/exp_imgs/micro_memory_batch.pdf", bbox_inches='tight')
