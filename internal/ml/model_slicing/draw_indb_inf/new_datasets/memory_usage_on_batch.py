import matplotlib.pyplot as plt
from matplotlib.ticker import FuncFormatter

# Sample data, replace this with your actual data

memory_log = {
    "with all opt": [
                     ["batch 1 done", 2.612567583, 305416], ["batch 2 done", 2.72020705, 306212],
                     ["batch 3 done", 2.828845229, 306564], ["batch 4 done", 2.937643247, 306828],
                     ["batch 5 done", 3.045223262, 307092], ["batch 6 done", 3.146675016, 307556],
                     ["batch 7 done", 3.245204346, 307820], ["batch 8 done", 3.338564685, 308084],
                     ["batch 9 done", 3.440275213, 308348], ["batch 10 done", 3.539300131, 308616],
                     ["batch 11 done", 3.645460789, 308880], ["batch 12 done", 3.750223035, 309144],
                     ["batch 13 done", 3.845417794, 309408], ["batch 14 done", 3.95247291, 309540],
                     ["batch 15 done", 4.056351191, 309804], ["batch 16 done", 4.162919002, 310068],
                     ["batch 17 done", 4.2665047099999995, 310332], ["batch 18 done", 4.369387074, 310596],
                     ["batch 19 done", 4.479282267, 310860], ["batch 20 done", 4.591105486, 311124],
                     ["batch 21 done", 4.694530325, 311388], ["batch 22 done", 4.790929682, 311716],
                     ["batch 23 done", 4.898879257, 311980], ["batch 24 done", 4.997362892, 312244],
                     ["batch 25 done", 5.101870332, 312508], ["batch 26 done", 5.199037235, 313036],
                     ["batch 27 done", 5.309743194, 313492], ["batch 28 done", 5.417251805, 313756],
                     ["batch 29 done", 5.519531796, 314020], ["batch 30 done", 5.619975405, 314284],
                     ["batch 31 done", 5.730332506, 314616], ["batch 32 done", 5.831757133, 314880],
                     ["batch 33 done", 5.942345639, 315144], ["batch 34 done", 6.042276893, 315628],
                     ["batch 35 done", 6.145855886, 315892], ["batch 36 done", 6.249055076, 316156],
                     ["batch 37 done", 6.356725719, 316620], ["batch 38 done", 6.458397528, 317028],
                     ["batch 39 done", 6.562757488, 317292], ["batch 40 done", 6.6730506179999995, 321132],
                     ["batch 41 done", 6.780079952, 321444], ["batch 42 done", 6.885517236, 321824],
                     ["batch 43 done", 6.994773749, 322088], ["batch 44 done", 7.108683137, 322352],
                     ["batch 45 done", 7.217581532, 322696], ["batch 46 done", 7.317922353, 323104],
                     ["batch 47 done", 7.421981097, 323368], ["batch 48 done", 7.526511644, 323632],
                     ["batch 49 done", 7.633115116, 323896], ["batch 50 done", 7.7429187200000005, 324160],
                     ["batch 51 done", 7.846450297, 324424], ["batch 52 done", 7.951042985, 324688],
                     ["batch 53 done", 8.060994127, 325016], ["batch 54 done", 8.170864992, 325280],
                     ["batch 55 done", 8.278907209, 325544], ["batch 56 done", 8.387367883, 325808],
                     ["batch 57 done", 8.487410679, 325940], ["batch 58 done", 8.599332599, 326204],
                     ["batch 59 done", 8.707064703, 326468], ["batch 60 done", 8.817339138, 326732],
                     ["batch 61 done", 8.93114927, 327092], ["batch 62 done", 9.044019181, 327348],
                     ["batch 63 done", 9.155195327, 327488], ["batch 64 done", 9.256141896, 327736],
                     ["batch 65 done", 9.353393451, 327996], ["batch 66 done", 9.453054674, 328404],
                     ["batch 67 done", 9.559095778, 328668], ["batch 68 done", 9.662312983, 328932],
                     ["batch 69 done", 9.769913512, 330200], ["batch 70 done", 9.875418398, 330428],
                     ["batch 71 done", 9.985637232, 330700], ["batch 72 done", 10.092444251, 330964],
                     ["batch 73 done", 10.195265693, 331228], ["batch 74 done", 10.306706638, 331504],
                     ["batch 75 done", 10.423905636, 331648], ["batch 76 done", 10.534413253, 331912],
                     ["batch 77 done", 10.642083362, 332176], ["batch 78 done", 10.752120767, 332436],
                     ["batch 79 done", 10.850375112, 332704], ["batch 80 done", 10.962189376, 333408],
                     ["batch 81 done", 11.074041929, 333780], ["batch 82 done", 11.179937962, 333924],
                     ["batch 83 done", 11.294441491, 334288], ["batch 84 done", 11.397220777, 334552],
                     ["batch 85 done", 11.509483088, 334816], ["batch 86 done", 11.609498771, 335136],
                     ["batch 87 done", 11.719444675, 335404], ["batch 88 done", 11.826479236, 335668],
                     ["batch 89 done", 11.932393429, 335932], ["batch 90 done", 12.040401522, 336196],
                     ["batch 91 done", 12.145438213, 336460], ["batch 92 done", 12.252600222, 336724],
                     ["batch 93 done", 12.363494571, 336988], ["batch 94 done", 12.476371011, 337524],
                     ["batch 95 done", 12.585775367, 337852], ["batch 96 done", 12.691304957, 338064],
                     ["batch 97 done", 12.799399501, 338316], ["batch 98 done", 12.901993949, 338584],
                     ["batch 99 done", 13.008294684, 338840], ["batch 100 done", 13.116289311, 339100],
                     ["batch 101 done", 13.210855761, 339360], ["batch 102 done", 13.311537822, 339628],
                     ["batch 103 done", 13.418856909, 339892], ["batch 104 done", 13.52182916, 340156],
                     ["batch 105 done", 13.62896847, 340420], ["batch 106 done", 13.736671513, 340688],
                     ["batch 107 done", 13.838917063, 340820], ["batch 108 done", 13.947527259, 341212],
                     ["batch 109 done", 14.047287162, 341476], ["batch 110 done", 14.151566103, 341740],
                     ["batch 111 done", 14.259627585, 342032], ["batch 112 done", 14.371130924, 342296],
                     ["batch 113 done", 14.470737919, 342560], ["batch 114 done", 14.579760034, 342824],
                     ["batch 115 done", 14.675897982, 343088], ["batch 116 done", 14.783894624, 343352],
                     ["batch 117 done", 14.883851585, 343616], ["batch 118 done", 14.992922249, 343944],
                     ["batch 119 done", 15.096011794, 344208], ["batch 120 done", 15.203292049, 344472],
                     ["batch 121 done", 15.310355624, 344736], ["batch 122 done", 15.420955259, 345000],
                     ["batch 123 done", 15.529165376, 345264], ["batch 124 done", 15.633709974, 345448],
                     ["batch 125 done", 15.736847839, 345712], ["batch 126 done", 15.841583301, 346080],
                     ["batch 127 done", 15.945800125, 346344], ["batch 128 done", 16.054312304, 346608],
                     ["batch 129 done", 16.166598436, 346872], ["batch 130 done", 16.273902064, 347140],
                     ["batch 131 done", 16.382958791, 347404], ["batch 132 done", 16.49172871, 347668],
                     ["batch 133 done", 16.601049828, 348032], ["batch 134 done", 16.706021765, 348296],
                     ["batch 135 done", 16.815693015, 348560], ["batch 136 done", 16.92379056, 348920],
                     ["batch 137 done", 17.02830714, 349184], ["batch 138 done", 17.133489468, 349448],
                     ["batch 139 done", 17.245280374, 349712], ["batch 140 done", 17.349374371, 349980],
                     ["batch 141 done", 17.449698976, 350244], ["batch 142 done", 17.553392572, 350376],
                     ["batch 143 done", 17.650670581, 350640], ["batch 144 done", 17.758403771, 350904],
                     ["batch 145 done", 17.862452293, 351168], ["batch 146 done", 17.966984096, 351432],
                     ["batch 147 done", 18.071810386, 351696], ["batch 148 done", 18.177562118, 351960],
                     ["batch 149 done", 18.277577678, 352224], ["batch 150 done", 18.406811834, 352840],
                     ["batch 151 done", 18.515239449, 353044], ["batch 152 done", 18.623896607, 353280],
                     ["batch 153 done", 18.736453184, 353564], ["batch 154 done", 18.837056775, 353860],
                     ["batch 155 done", 18.946326729, 354140], ["batch 156 done", 19.050965755, 354408],
                     ["batch 157 done", 19.142813884, 354672], ["batch 158 done", 19.250873843, 354932],
                     ["batch 159 done", 19.35971112, 355192], ["batch 160 done", 19.468122279, 355456],
                     ["batch 161 done", 19.579200752, 355736], ["batch 162 done", 19.688416877, 356028],
                     ["batch 163 done", 19.79238638, 356292], ["batch 164 done", 19.900002219, 356576],
                     ["batch 165 done", 20.009760855, 356848], ["batch 166 done", 20.119431771, 357112],
                     ["batch 167 done", 20.227928223, 357376], ["batch 168 done", 20.327908936, 357508],
                     ["batch 169 done", 20.42676306, 357772], ["batch 170 done", 20.5393538, 358040],
                     ["batch 171 done", 20.632769766, 358344], ["batch 172 done", 20.735132995, 358608],
                     ["batch 173 done", 20.838391411, 358904], ["batch 174 done", 20.945257069, 359168],
                     ["batch 175 done", 21.049736079, 359432], ["batch 176 done", 21.161200582, 359892],
                     ["batch 177 done", 21.26438555, 360048], ["batch 178 done", 21.36359582, 360300],
                     ["batch 179 done", 21.478051464, 360568], ["batch 180 done", 21.586281928, 360828],
                     ["batch 181 done", 21.693147351, 361108], ["batch 182 done", 21.800190783, 361440],
                     ["batch 183 done", 21.902945798, 361700], ["batch 184 done", 21.999807574, 361972],
                     ["batch 185 done", 22.111436135, 362248], ["batch 186 done", 22.211435161, 362512],
                     ["batch 187 done", 22.314144661, 362800], ["batch 188 done", 22.416277974, 363064],
                     ["batch 189 done", 22.520723368, 363336], ["batch 190 done", 22.629448078, 363600],
                     ["batch 191 done", 22.73962614, 363868], ["batch 192 done", 22.845356567, 364132],
                     ["batch 193 done", 22.954498111, 364400], ["batch 194 done", 23.058985139, 364664],
                     ["batch 195 done", 23.165626628, 364796], ["batch 196 done", 23.271130941, 365060],
                     ["batch 197 done", 23.373991393, 365328], ["batch 198 done", 23.476968673000002, 365592],
                     ["batch 199 done", 23.587806902, 365856], ["batch 200 done", 23.69399691, 366136],
                     ["batch 201 done", 23.796239649, 366400], ["batch 202 done", 23.898582072, 366664],
                     ["batch 203 done", 24.004966488, 366928], ["batch 204 done", 24.115267852, 367192],
                     ["batch 205 done", 24.213150473, 367456], ["batch 206 done", 24.314133582, 367720],
                     ["batch 207 done", 24.411625366, 367984], ["batch 208 done", 24.517986622, 368248],
                     ["batch 209 done", 24.620580284, 368512], ["batch 210 done", 24.727276876, 368780],
                     ["batch 211 done", 24.825453113000002, 369052], ["batch 212 done", 24.924987662, 369184],
                     ["batch 213 done", 25.025529117, 369448], ["batch 214 done", 25.130039551, 369772],
                     ["batch 215 done", 25.238364465, 370036], ["batch 216 done", 25.350089526, 370304],
                     ["batch 217 done", 25.457045743, 370568], ["batch 218 done", 25.568082176, 370836],
                     ["batch 219 done", 25.679132024, 371100], ["batch 220 done", 25.785262097, 371472],
                     ["batch 221 done", 25.889838097, 371736], ["batch 222 done", 25.991084492, 372000],
                     ["batch 223 done", 26.096126545, 372264], ["batch 224 done", 26.201347004, 372528],
                     ["batch 225 done", 26.306524794, 372792], ["batch 226 done", 26.413451116, 373056],
                     ["batch 227 done", 26.524924065, 373340], ["batch 228 done", 26.635241927, 373604],
                     ["batch 229 done", 26.737786758, 373736], ["batch 230 done", 26.847133513, 374000],
                     ["batch 231 done", 26.954084234, 374264], ["batch 232 done", 27.057737307, 374528],
                     ["batch 233 done", 27.162100762, 374792], ["batch 234 done", 27.270241479, 375060],
                     ["batch 235 done", 27.373857576, 375324], ["batch 236 done", 27.484962482, 375588],
                     ["batch 237 done", 27.589814991, 375852], ["batch 238 done", 27.698940119, 376116],
                     ["batch 239 done", 27.800210098, 376380], ["batch 240 done", 27.902547804, 376644],
                     ["batch 241 done", 28.006494292, 376908], ["batch 242 done", 28.112154303, 377172],
                     ["batch 243 done", 28.225442504, 377436], ["batch 244 done", 28.331150978, 377700],
                     ["batch 245 done", 28.437511138, 378028], ["batch 246 done", 28.533770128, 378160],
                     ["batch 247 done", 28.631054868, 378424], ["batch 248 done", 28.734602936, 378688],
                     ["batch 249 done", 28.842951337, 378960], ["batch 250 done", 28.952074753, 379224],
                     ["batch 251 done", 29.060452894, 379488], ["batch 252 done", 29.167088228, 379752],
                     ["batch 253 done", 29.267785933, 380016], ["batch 254 done", 29.375718053, 380288],
                     ["batch 255 done", 29.481862358, 380552], ["batch 256 done", 29.583728165, 380816],
                     ["batch 257 done", 29.685041644000002, 381080], ["batch 258 done", 29.792982698, 381344],
                     ["batch 259 done", 29.900955041, 381608], ["batch 260 done", 30.002411167, 381872],
                     ["batch 261 done", 30.105862583, 382136], ["batch 262 done", 30.216816774, 382400],
                     ["batch 263 done", 30.321315331, 382532], ["batch 264 done", 30.425188543, 382796],
                     ["batch 265 done", 30.53028597, 383060], ["batch 266 done", 30.635550304, 383328],
                     ["batch 267 done", 30.743324423, 383592], ["batch 268 done", 30.844628209, 383856],
                     ["batch 269 done", 30.948841728, 384120], ["batch 270 done", 31.056409106, 384384],
                     ["batch 271 done", 31.157598015, 384648], ["batch 272 done", 31.256985772, 384912],
                     ["batch 273 done", 31.370176498, 385176], ["batch 274 done", 31.476235317, 385440],
                     ["batch 275 done", 31.58542732, 385704], ["batch 276 done", 31.690533875, 385968],
                     ["batch 277 done", 31.794696465, 386296], ["batch 278 done", 31.89619794, 386580],
                     ["batch 279 done", 32.000067146, 386844], ["batch 280 done", 32.107155546, 387108],
                     ["batch 281 done", 32.216900346, 387240], ["batch 282 done", 32.328652007, 387504],
                     ["batch 283 done", 32.442165497, 387768], ["batch 284 done", 32.546971693, 388032],
                     ["batch 285 done", 32.654335676, 388296], ["batch 286 done", 32.75206522, 388560],
                     ["batch 287 done", 32.860562353, 388824], ["batch 288 done", 32.966044245, 389088],
                     ["batch 289 done", 33.069921859, 389352], ["batch 290 done", 33.170742017, 389620],
                     ["batch 291 done", 33.269480907, 389896], ["batch 292 done", 33.372052429, 390160],
                     ["batch 293 done", 33.479251598, 390424], ["batch 294 done", 33.587608335, 390688],
                     ["batch 295 done", 33.69429454, 390952], ["batch 296 done", 33.803177233, 391216],
                     ["batch 297 done", 33.914924173, 391480], ["batch 298 done", 34.028415309, 391612],
                     ["batch 299 done", 34.136552607, 391876], ["batch 300 done", 34.23476227, 392140],
                     ["batch 301 done", 34.340942794, 392404], ["batch 302 done", 34.44435826, 392668],
                     ["batch 303 done", 34.551290256, 392932], ["batch 304 done", 34.653843086, 393196],
                     ["batch 305 done", 34.756501002, 393460], ["batch 306 done", 34.866684738000004, 393728],
                     ["batch 307 done", 34.972898446, 393992], ["batch 308 done", 35.072370444, 394256],
                     ["batch 309 done", 35.17393155, 394580], ["batch 310 done", 35.274397555, 394844],
                     ["batch 311 done", 35.37895625, 395108], ["batch 312 done", 35.475329215, 395372],
                     ["batch 313 done", 35.581310605, 395640], ["batch 314 done", 35.68106123, 395904],
                     ["batch 315 done", 35.788309729, 396036], ["batch 316 done", 35.889748428, 396300],
                     ["batch 317 done", 35.988064336, 396564], ["batch 318 done", 36.089925184, 396828],
                     ["batch 319 done", 36.197536028, 397092], ["batch 320 done", 36.297831336, 397356],
                     ["batch 321 done", 36.400806424, 397620], ["batch 322 done", 36.50820425, 397884],
                     ["batch 323 done", 36.618584714, 398148], ["batch 324 done", 36.728834029, 398412],
                     ["batch 325 done", 36.833655429, 398676], ["batch 326 done", 36.943330273, 398940],
                     ["batch 327 done", 37.048812774, 399204], ["batch 328 done", 37.15956661, 399468],
                     ["batch 329 done", 37.268479555, 399732], ["batch 330 done", 37.378936951, 400000],
                     ["batch 331 done", 37.487511668, 400264], ["batch 332 done", 37.593604415, 400396],
                     ["batch 333 done", 37.697149145, 400660], ["batch 334 done", 37.801376747, 400924],
                     ["batch 335 done", 37.907188705, 401188], ["batch 336 done", 38.017058583, 401452],
                     ["batch 337 done", 38.127582312, 401716], ["batch 338 done", 38.24087511, 401984],
                     ["batch 339 done", 38.346802526, 402248], ["batch 340 done", 38.45599087, 402512],
                     ["batch 341 done", 38.560946343, 402836], ["batch 342 done", 38.666274977, 403124],
                     ["batch 343 done", 38.775237182, 403388], ["batch 344 done", 38.879566787, 403652],
                     ["batch 345 done", 38.976847639, 403920], ["batch 346 done", 39.089270284, 404184],
                     ["batch 347 done", 39.198426701, 404448], ["batch 348 done", 39.305719043, 404712],
                     ["batch 349 done", 39.400072885, 404976], ["batch 350 done", 39.509766472, 405108],
                     ["batch 351 done", 39.622624993, 405372], ["batch 352 done", 39.731207331, 405636],
                     ["batch 353 done", 39.840987551, 405900], ["batch 354 done", 39.945243727, 406164],
                     ["batch 355 done", 40.050229847, 406428], ["batch 356 done", 40.149834112, 406692],
                     ["batch 357 done", 40.253086737, 406956], ["batch 358 done", 40.356661592, 407220],
                     ["batch 359 done", 40.460512279, 407484], ["batch 360 done", 40.564770766, 407748],
                     ["batch 361 done", 40.671318624, 408012], ["batch 362 done", 40.777333301, 408280],
                     ["batch 363 done", 40.882126594, 408544], ["batch 364 done", 40.976616872, 408808],
                     ["batch 365 done", 41.084198826, 409072], ["batch 366 done", 41.183123398, 409336],
                     ["batch 367 done", 41.286108157, 409468], ["batch 368 done", 41.391347594, 409732],
                     ["batch 369 done", 41.496297812, 409996], ["batch 370 done", 41.596759623, 410260],
                     ["batch 371 done", 41.698520516, 410536], ["batch 372 done", 41.802316695, 410800],
                     ["batch 373 done", 41.912529288, 411128], ["batch 374 done", 42.017518771, 411392],
                     ["batch 375 done", 42.115238768, 411656], ["batch 376 done", 42.221192224, 411920],
                     ["batch 377 done", 42.328564454, 412184], ["batch 378 done", 42.434522131, 412448],
                     ["batch 379 done", 42.538048628, 412712], ["batch 380 done", 42.636229265, 412976],
                     ["batch 381 done", 42.734411274, 413240], ["batch 382 done", 42.836083218, 413504],
                     ["batch 383 done", 42.946033562, 413768], ["batch 384 done", 43.053841621, 413900],
                     ["batch 385 done", 43.161440868, 414164], ["batch 386 done", 43.268203238, 414432],
                     ["batch 387 done", 43.378449732, 414696], ["batch 388 done", 43.483788209, 414960],
                     ["batch 389 done", 43.586846648, 415224], ["batch 390 done", 43.686211286, 415488],
                     ["batch 391 done", 43.790580689, 415752], ["batch 392 done", 43.894828305, 416016],
                     ["batch 393 done", 43.997265997, 416280], ["batch 394 done", 44.099820724, 416544],
                     ["batch 395 done", 44.209947231, 416808], ["batch 396 done", 44.311411321, 417072],
                     ["batch 397 done", 44.418000366, 417352], ["batch 398 done", 44.528747395, 417616],
                     ["batch 399 done", 44.62642542, 417880], ["batch 400 done", 44.733120494, 418144],
                     ["batch 401 done", 44.836703162, 418276], ["batch 402 done", 44.942486169, 418544],
                     ["batch 403 done", 45.041430159, 418808], ["batch 404 done", 45.142138108, 419076],
                     ["batch 405 done", 45.234574525, 419388], ["batch 406 done", 45.344657081, 419712],
                     ["batch 407 done", 45.450267752, 419976], ["batch 408 done", 45.561932257, 420240],
                     ["batch 409 done", 45.662969481, 420504], ["batch 410 done", 45.758657863, 420772],
                     ["batch 411 done", 45.865057843, 421036], ["batch 412 done", 45.97444206, 421300],
                     ["batch 413 done", 46.077253509, 421564], ["batch 414 done", 46.181945053, 421828],
                     ["batch 415 done", 46.282750845, 422092], ["batch 416 done", 46.387932969, 422356],
                     ["batch 417 done", 46.49120821, 422620], ["batch 418 done", 46.592421834, 422752],
                     ["batch 419 done", 46.698113065, 423016], ["batch 420 done", 46.803396191, 423280],
                     ["batch 421 done", 46.901006979, 423544], ["batch 422 done", 47.004109271, 423808],
                     ["batch 423 done", 47.10394253, 424072], ["batch 424 done", 47.211959216, 424336],
                     ["batch 425 done", 47.316011302, 424600], ["batch 426 done", 47.419252206, 424972],
                     ["batch 427 done", 47.532141423, 425236], ["batch 428 done", 47.635456882, 425500],
                     ["batch 429 done", 47.739729319, 425764], ["batch 430 done", 47.846816067, 426028],
                     ["batch 431 done", 47.952009585, 426292], ["batch 432 done", 48.059332679, 426556],
                     ["batch 433 done", 48.167139472, 426820], ["batch 434 done", 48.275007576, 427084],
                     ["batch 435 done", 48.382572434, 427216], ["batch 436 done", 48.489912559, 427480],
                     ["batch 437 done", 48.603519138, 427744], ["batch 438 done", 48.719961366, 428068],
                     ["batch 439 done", 48.826136648, 428332], ["batch 440 done", 48.922738741, 428596],
                     ["batch 441 done", 49.024554046, 428860], ["batch 442 done", 49.13205951, 429128],
                     ["batch 443 done", 49.232612821, 429392], ["batch 444 done", 49.337171933, 429656],
                     ["batch 445 done", 49.436757034, 429920], ["batch 446 done", 49.542773852, 430184],
                     ["batch 447 done", 49.655725587, 430448], ["batch 448 done", 49.768889751, 430712],
                     ["batch 449 done", 49.871228777, 430976], ["batch 450 done", 49.976151181, 431252],
                     ["batch 451 done", 50.085230811, 431516], ["batch 452 done", 50.190144608, 431780],
                     ["batch 453 done", 50.293642366, 432044], ["batch 454 done", 50.408123056, 432176],
                     ["batch 455 done", 50.513636465, 432440], ["batch 456 done", 50.623533964, 432704],
                     ["batch 457 done", 50.729385144, 432968], ["batch 458 done", 50.83417537, 433232],
                     ["batch 459 done", 50.94230763, 433496], ["batch 460 done", 51.050255178, 433760],
                     ["batch 461 done", 51.157246592999996, 434024], ["batch 462 done", 51.256342728999996, 434288],
                     ["batch 463 done", 51.36412637, 434552], ["batch 464 done", 51.471885373, 434816],
                     ["batch 465 done", 51.575589565, 435080], ["batch 466 done", 51.678833609, 435348],
                     ["batch 467 done", 51.780551207, 435612], ["batch 468 done", 51.886957164, 435876],
                     ["batch 469 done", 51.991624675, 436200], ["batch 470 done", 52.099979015, 436464],
                     ["batch 471 done", 52.209081235, 436596], ["batch 472 done", 52.313085563, 436860],
                     ["batch 473 done", 52.417613624, 437124], ["batch 474 done", 52.521771007, 437392],
                     ["batch 475 done", 52.623979572, 437656], ["batch 476 done", 52.734910472, 437920],
                     ["batch 477 done", 52.846781303, 438184], ["batch 478 done", 52.949256046, 438448],
                     ["batch 479 done", 53.04625879, 438712], ["batch 480 done", 53.157733627, 438976],
                     ["batch 481 done", 53.265779149, 439240], ["batch 482 done", 53.375031855, 439504],
                     ["batch 483 done", 53.485030657, 439768], ["batch 484 done", 53.594729731, 440032],
                     ["batch 485 done", 53.705475731, 440296], ["batch 486 done", 53.810650796, 440560],
                     ["batch 487 done", 53.908780659, 440824], ["batch 488 done", 54.017582154, 441088],
                     ["batch 489 done", 54.128510326, 441356], ["batch 490 done", 54.241514889, 441828],
                     ["batch 491 done", 54.353092257, 442588], ["batch 492 done", 54.455510491, 442948],
                     ["batch 493 done", 54.562205866, 443260], ["batch 494 done", 54.673538447, 443520],
                     ["batch 495 done", 54.784995858, 443780], ["batch 496 done", 54.888475993, 444068],
                     ["batch 497 done", 54.993617584, 444376], ["batch 498 done", 55.102921979, 444640],
                     ["batch 499 done", 55.209774637, 444904], ["batch 500 done", 55.313471217, 445204],
                     ["batch 501 done", 55.417387226, 445508], ["batch 502 done", 55.521119203, 445772],
                     ["batch 503 done", 55.627506419, 446036], ["batch 504 done", 55.738825751, 446292],
                     ["batch 505 done", 55.846333587, 446424], ["batch 506 done", 55.955045199, 446720],
                     ["batch 507 done", 56.059564857, 446720], ["batch 508 done", 56.169076254, 446720],
                     ["batch 509 done", 56.27491735, 446736], ["batch 510 done", 56.377695588, 446824],
                     ["batch 511 done", 56.479414517, 446824], ["batch 512 done", 56.59148119, 447128],
                     ["batch 513 done", 56.700021024, 447224], ["batch 514 done", 56.802288844, 447324],
                     ["batch 515 done", 56.906774605, 447324], ["batch 516 done", 57.004267386, 447324],
                     ["batch 517 done", 57.109051673, 447368], ["batch 518 done", 57.214007156, 447368],
                     ["batch 519 done", 57.318024521, 447368], ["batch 520 done", 57.422390593, 447372],
                     ["batch 521 done", 57.531287576, 447396], ["batch 522 done", 57.643721432, 447440],
                     ["batch 523 done", 57.752031845, 447468], ["batch 524 done", 57.85619314, 447468],
                     ["batch 525 done", 57.962925533, 447468], ["batch 526 done", 58.067365727, 447468],
                     ["batch 527 done", 58.173622205, 447468], ["batch 528 done", 58.284412674, 447468],
                     ["batch 529 done", 58.392504876, 447476], ["batch 530 done", 58.504136259, 447476],
                     ["batch 531 done", 58.609111331, 447476], ["batch 532 done", 58.717020768, 447480],
                     ["batch 533 done", 58.818516963, 447480], ["batch 534 done", 58.92187364, 447480],
                     ["batch 535 done", 59.018899901, 447480], ["batch 536 done", 59.130048341, 447480],
                     ["batch 537 done", 59.240001506, 447480], ["batch 538 done", 59.348474708, 447480],
                     ["batch 539 done", 59.45887115, 447480], ["batch 540 done", 59.560962149, 447480],
                     ["batch 541 done", 59.67524099, 447568], ["batch 542 done", 59.786964404, 447604],
                     ["batch 543 done", 59.889889005, 447604], ["batch 544 done", 59.993208488, 447628],
                     ["batch 545 done", 60.102365556, 447628], ["batch 546 done", 60.209441911, 447628],
                     ["batch 547 done", 60.318031915, 447628], ["batch 548 done", 60.424684018, 447668],
                     ["batch 549 done", 60.533685475, 447668], ["batch 550 done", 60.636561723, 447668],
                     ["batch 551 done", 60.743743237, 447668], ["batch 552 done", 60.860492574, 447708],
                     ["batch 553 done", 60.962562623, 447708], ["batch 554 done", 61.064521774, 447708],
                     ["batch 555 done", 61.169203575, 447712], ["batch 556 done", 61.280400382, 447712],
                     ["batch 557 done", 61.386438446, 447716], ["batch 558 done", 61.48845712, 447716],
                     ["batch 559 done", 61.595159887, 447716], ["batch 560 done", 61.695447096, 447716],
                     ["batch 561 done", 61.803691999, 447728], ["batch 562 done", 61.915218331, 447728],
                     ["batch 563 done", 62.024081805, 447728], ["batch 564 done", 62.132973006, 447728],
                     ["batch 565 done", 62.240035266, 447728], ["batch 566 done", 62.349415680999996, 447728],
                     ["batch 567 done", 62.4580617, 447736], ["batch 568 done", 62.575537014, 447740],
                     ["batch 569 done", 62.68209597, 447740], ["batch 570 done", 62.782568551, 447752],
                     ["batch 571 done", 62.887495293, 447756], ["batch 572 done", 62.989838993, 447756],
                     ["batch 573 done", 63.092523661, 447756], ["batch 574 done", 63.200735101, 447756],
                     ["batch 575 done", 63.309041799, 447764], ["batch 576 done", 63.414059902, 447764],
                     ["batch 577 done", 63.525209778, 447764], ["batch 578 done", 63.632943486, 447764],
                     ["batch 579 done", 63.733071843, 447764], ["batch 580 done", 63.837703636, 447764],
                     ["batch 581 done", 63.943829527, 447764], ["batch 582 done", 64.054838582, 447764],
                     ["batch 583 done", 64.161506281, 447764], ["batch 584 done", 64.265838196, 447764],
                     ["batch 585 done", 64.371366424, 447764], ["batch 586 done", 64.473407153, 447764],
                     ["batch 587 done", 64.577843243, 447764], ["batch 588 done", 64.687113775, 447764],
                     ["batch 589 done", 64.793915531, 447772], ["batch 590 done", 64.901984901, 447772],
                     ["batch 591 done", 65.007178125, 447772], ["batch 592 done", 65.111316318, 447772],
                     ["batch 593 done", 65.219923126, 447796], ["batch 594 done", 65.331164583, 447796],
                     ["batch 595 done", 65.435591005, 447796], ["batch 596 done", 65.542981078, 447796],
                     ["batch 597 done", 65.64218251, 447796], ["batch 598 done", 65.74298398, 447796],
                     ["batch 599 done", 65.850138526, 447796], ["batch 600 done", 65.953438209, 447796],
                     ["batch 601 done", 66.063662521, 447804], ["batch 602 done", 66.167901998, 447820],
                     ["batch 603 done", 66.269589416, 447820], ["batch 604 done", 66.375867581, 447820],
                     ["batch 605 done", 66.484858234, 447820], ["batch 606 done", 66.595258368, 447820],
                     ["batch 607 done", 66.704582291, 447820], ["batch 608 done", 66.812960894, 447820],
                     ["batch 609 done", 66.920508964, 447820], ["batch 610 done", 67.020947827, 447820],
                     ["batch 611 done", 67.126529469, 447820], ["batch 612 done", 67.232975918, 447820],
                     ["batch 613 done", 67.338943344, 447820], ["batch 614 done", 67.441279122, 447820],
                     ["batch 615 done", 67.544021723, 447824], ["batch 616 done", 67.644860479, 447824],
                     ["batch 617 done", 67.749262927, 447824], ["batch 618 done", 67.858148982, 447824],
                     ["batch 619 done", 67.965659461, 447824], ["batch 620 done", 68.074477749, 447824],
                     ["batch 621 done", 68.176113659, 447824], ["batch 622 done", 68.277711519, 447824],
                     ["batch 623 done", 68.384351134, 447824], ["batch 624 done", 68.493361918, 447824],
                     ["batch 625 done", 68.600470651, 447824], ["batch 626 done", 68.701479971, 447824],
                     ["batch 627 done", 68.810773313, 447828], ["batch 628 done", 68.921928554, 447828],
                     ["batch 629 done", 69.034968148, 447828], ["batch 630 done", 69.137989593, 447828],
                     ["batch 631 done", 69.236274084, 447828], ["batch 632 done", 69.336018274, 447828],
                     ["batch 633 done", 69.446503371, 447828], ["batch 634 done", 69.542180663, 447828],
                     ["batch 635 done", 69.646599276, 447828], ["batch 636 done", 69.746839719, 447828],
                     ["batch 637 done", 69.851166966, 447828], ["batch 638 done", 69.962951826, 447828],
                     ["batch 639 done", 70.070341165, 447828], ["batch 640 done", 70.17271347, 447828],
                     ["batch 641 done", 70.285004178, 447828], ["batch 642 done", 70.39468371, 447828],
                     ["batch 643 done", 70.502367605, 447828], ["batch 644 done", 70.611996236, 447828],
                     ["batch 645 done", 70.712318074, 447828], ["batch 646 done", 70.82063536, 447828],
                     ["batch 647 done", 70.931026032, 447828], ["batch 648 done", 71.040254816, 447828],
                     ["batch 649 done", 71.146758608, 447828], ["batch 650 done", 71.245371535, 447828],
                     ["batch 651 done", 71.350796336, 447828], ["batch 652 done", 71.452420514, 447828],
                     ["batch 653 done", 71.557033459, 447828], ["batch 654 done", 71.659408416, 447828],
                     ["batch 655 done", 71.757027757, 447828], ["batch 656 done", 71.861358542, 447828],
                     ["batch 657 done", 71.968429352, 447828], ["batch 658 done", 72.073405453, 447828],
                     ["batch 659 done", 72.176921094, 447828], ["batch 660 done", 72.285397673, 447828],
                     ["batch 661 done", 72.388039239, 447828], ["batch 662 done", 72.495623819, 447828],
                     ["batch 663 done", 72.600821799, 447828], ["batch 664 done", 72.699040987, 447828],
                     ["batch 665 done", 72.801161647, 447828], ["batch 666 done", 72.899651834, 447828],
                     ["batch 667 done", 73.001347772, 447828], ["batch 668 done", 73.106311206, 447828],
                     ["batch 669 done", 73.213523422, 447828], ["batch 670 done", 73.318773076, 447828],
                     ["batch 671 done", 73.422685922, 447828], ["batch 672 done", 73.530324997, 447828],
                     ["batch 673 done", 73.633933358, 447828], ["batch 674 done", 73.739551807, 447828],
                     ["batch 675 done", 73.845517953, 447828], ["batch 676 done", 73.956339037, 447828],
                     ["batch 677 done", 74.065735531, 447828], ["batch 678 done", 74.178422001, 447828],
                     ["batch 679 done", 74.279511158, 447828], ["batch 680 done", 74.375891884, 447828],
                     ["batch 681 done", 74.469763717, 447828], ["batch 682 done", 74.581374572, 447828],
                     ["batch 683 done", 74.68607539, 447828], ["batch 684 done", 74.78611086, 447828],
                     ["batch 685 done", 74.888995717, 447828], ["batch 686 done", 74.984438994, 447828],
                     ["batch 687 done", 75.084718944, 447828], ["batch 688 done", 75.195438161, 447828],
                     ["batch 689 done", 75.301979713, 447828], ["batch 690 done", 75.406638661, 447828],
                     ["batch 691 done", 75.509398679, 447828], ["batch 692 done", 75.615323961, 447828],
                     ["batch 693 done", 75.718201095, 447828], ["batch 694 done", 75.828194237, 447828],
                     ["batch 695 done", 75.939299012, 447836], ["batch 696 done", 76.048776244, 447836],
                     ["batch 697 done", 76.152578284, 447836], ["batch 698 done", 76.254195764, 447836],
                     ["batch 699 done", 76.367424616, 447836], ["batch 700 done", 76.476737168, 447836],
                     ["batch 701 done", 76.584997435, 447836], ["batch 702 done", 76.689622054, 447836],
                     ["batch 703 done", 76.794044369, 447836], ["batch 704 done", 76.898230044, 447836],
                     ["batch 705 done", 76.998157345, 447836], ["batch 706 done", 77.102425182, 447836],
                     ["batch 707 done", 77.209572134, 447836], ["batch 708 done", 77.318808481, 447836],
                     ["batch 709 done", 77.428244744, 447836], ["batch 710 done", 77.528328352, 447836],
                     ["batch 711 done", 77.633234905, 447836], ["batch 712 done", 77.742808698, 447836],
                     ["batch 713 done", 77.846941441, 447836], ["batch 714 done", 77.944712435, 447836],
                     ["batch 715 done", 78.05003655, 447836], ["batch 716 done", 78.15275915, 447836],
                     ["batch 717 done", 78.261835484, 447836], ["batch 718 done", 78.368778072, 447836],
                     ["batch 719 done", 78.476055679, 447836], ["batch 720 done", 78.576644217, 447836],
                     ["batch 721 done", 78.68202841, 447836], ["batch 722 done", 78.790809318, 447836],
                     ["batch 723 done", 78.894686453, 447836], ["batch 724 done", 79.00079002, 447836],
                     ["batch 725 done", 79.110034003, 447836], ["batch 726 done", 79.197788741, 447836],
                     ["batch 727 done", 79.300452458, 447836], ["batch 728 done", 79.400299624, 447836],
                     ["batch 729 done", 79.508272101, 447868], ["batch 730 done", 79.609078816, 447868],
                     ["batch 731 done", 79.720453501, 447868], ["batch 732 done", 79.821869187, 447868],
                     ["batch 733 done", 79.925138668, 447868], ["batch 734 done", 80.025605136, 447868],
                     ["batch 735 done", 80.138042926, 447868], ["batch 736 done", 80.236470146, 447868],
                     ["batch 737 done", 80.350355757, 447868], ["batch 738 done", 80.457104741, 447868],
                     ["batch 739 done", 80.566474367, 447868], ["batch 740 done", 80.675000405, 447868],
                     ["batch 741 done", 80.781882048, 447868], ["batch 742 done", 80.887352334, 447868],
                     ["batch 743 done", 80.996516259, 447868], ["batch 744 done", 81.106705368, 447868],
                     ["batch 745 done", 81.21252629, 447868], ["batch 746 done", 81.320100724, 447868],
                     ["batch 747 done", 81.428297451, 447868], ["batch 748 done", 81.531073458, 447868],
                     ["batch 749 done", 81.62818436, 447868], ["batch 750 done", 81.733041653, 447868],
                     ["batch 751 done", 81.836898917, 447868], ["batch 752 done", 81.943414701, 447868],
                     ["batch 753 done", 82.04587357, 447868], ["batch 754 done", 82.148018451, 447988],
                     ["batch 755 done", 82.256711115, 448288], ["batch 756 done", 82.365321645, 448344],
                     ["batch 757 done", 82.473607824, 448404], ["batch 758 done", 82.584573736, 448416],
                     ["batch 759 done", 82.688270238, 448416], ["batch 760 done", 82.792173816, 448416],
                     ["batch 761 done", 82.898218644, 448416], ["batch 762 done", 83.012827758, 448416],
                     ["batch 763 done", 83.12708601, 448416], ["batch 764 done", 83.234540828, 448440],
                     ["batch 765 done", 83.34381786, 448440], ["batch 766 done", 83.452787377, 448440],
                     ["batch 767 done", 83.559942169, 448440], ["batch 768 done", 83.664153252, 448448],
                     ["batch 769 done", 83.77040359, 448448], ["batch 770 done", 83.873394427, 448476],
                     ["batch 771 done", 83.973285005, 448476], ["batch 772 done", 84.076023339, 448500],
                     ["batch 773 done", 84.176132862, 448500], ["batch 774 done", 84.279272541, 448500],
                     ["batch 775 done", 84.388054998, 448500], ["batch 776 done", 84.492891919, 448500],
                     ["batch 777 done", 84.595456147, 448540], ["batch 778 done", 84.696990417, 448540],
                     ["batch 779 done", 84.806607067, 448540], ["batch 780 done", 84.914177158, 448564],
                     ["batch 781 done", 85.021317885, 448588], ["batch 782 done", 85.132078714, 448596],
                     ["batch 783 done", 85.236111407, 448596], ["batch 784 done", 85.343397623, 448596],
                     ["batch 785 done", 85.453755662, 448596], ["batch 786 done", 85.554785169, 448608],
                     ["batch 787 done", 85.657683167, 448608], ["batch 788 done", 85.758614654, 448608],
                     ["batch 789 done", 85.866822608, 448608], ["batch 790 done", 85.980470289, 448732],
                     ["batch 791 done", 86.091576278, 448776], ["batch 792 done", 86.198107885, 448776],
                     ["batch 793 done", 86.302227551, 448780], ["batch 794 done", 86.404713638, 448780],
                     ["batch 795 done", 86.509539534, 448780], ["batch 796 done", 86.613299935, 448780],
                     ["batch 797 done", 86.720052278, 448780], ["batch 798 done", 86.821623223, 448780],
                     ["batch 799 done", 86.929495241, 448780], ["batch 800 done", 87.033175727, 448784],
                     ["batch 801 done", 87.136457678, 448788], ["batch 802 done", 87.244283333, 448804],
                     ["batch 803 done", 87.34721854, 448808], ["batch 804 done", 87.452399734, 448808],
                     ["batch 805 done", 87.557699524, 448808], ["batch 806 done", 87.662679391, 448808],
                     ["batch 807 done", 87.764493381, 448808], ["batch 808 done", 87.86162404, 448808],
                     ["batch 809 done", 87.964241671, 448832], ["batch 810 done", 88.071839992, 448832],
                     ["batch 811 done", 88.175298061, 448832], ["batch 812 done", 88.277259752, 448832],
                     ["batch 813 done", 88.382402997, 448832], ["batch 814 done", 88.484859931, 448840],
                     ["batch 815 done", 88.590174253, 448840], ["batch 816 done", 88.694190661, 448840],
                     ["batch 817 done", 88.788870374, 448840], ["batch 818 done", 88.894511934, 448840],
                     ["batch 819 done", 89.0016691, 448840], ["batch 820 done", 89.109143799, 448840],
                     ["batch 821 done", 89.207027144, 448840], ["batch 822 done", 89.305901788, 448840],
                     ["batch 823 done", 89.408812536, 448840], ["batch 824 done", 89.517378137, 448840],
                     ["batch 825 done", 89.629054505, 448840], ["batch 826 done", 89.72991584, 448840],
                     ["batch 827 done", 89.836021985, 448840], ["batch 828 done", 89.939836979, 448840],
                     ["batch 829 done", 90.048583671, 448840], ["batch 830 done", 90.154254713, 448840],
                     ["batch 831 done", 90.268520345, 448896], ["batch 832 done", 90.379662726, 448908],
                     ["batch 833 done", 90.482844083, 448912], ["batch 834 done", 90.592647167, 448916],
                     ["batch 835 done", 90.698134574, 448920], ["batch 836 done", 90.808348773, 448928],
                     ["batch 837 done", 90.919312982, 448940], ["batch 838 done", 91.020930326, 448944],
                     ["batch 839 done", 91.123003432, 448944], ["batch 840 done", 91.226378398, 448944],
                     ["batch 841 done", 91.333078344, 448968], ["batch 842 done", 91.433199365, 448992],
                     ["batch 843 done", 91.538880103, 448992], ["batch 844 done", 91.638700783, 449000],
                     ["batch 845 done", 91.739888398, 449000], ["batch 846 done", 91.847255077, 449000],
                     ["batch 847 done", 91.953081742, 449000], ["batch 848 done", 92.056924837, 449000],
                     ["batch 849 done", 92.161859253, 449000], ["batch 850 done", 92.266701435, 449000],
                     ["batch 851 done", 92.369040999, 449000], ["batch 852 done", 92.476114199, 449000],
                     ["batch 853 done", 92.569799096, 449000], ["batch 854 done", 92.672737229, 449000],
                     ["batch 855 done", 92.778120951, 449000], ["batch 856 done", 92.878192222, 449000],
                     ["batch 857 done", 92.977567778, 449000], ["batch 858 done", 93.085432987, 449000],
                     ["batch 859 done", 93.187091352, 449000], ["batch 860 done", 93.286571464, 449000],
                     ["batch 861 done", 93.390998753, 449000], ["batch 862 done", 93.499776664, 449000],
                     ["batch 863 done", 93.600307316, 449000], ["batch 864 done", 93.705933946, 449000],
                     ["batch 865 done", 93.809585482, 449000], ["batch 866 done", 93.911960901, 449000],
                     ["batch 867 done", 94.016819562, 449000], ["batch 868 done", 94.122859181, 449004],
                     ["batch 869 done", 94.219046119, 449004], ["batch 870 done", 94.325436768, 449004],
                     ["batch 871 done", 94.429610275, 449004], ["batch 872 done", 94.533029612, 449004],
                     ["batch 873 done", 94.641501818, 449004], ["batch 874 done", 94.740633865, 449004],
                     ["batch 875 done", 94.847913871, 449004], ["batch 876 done", 94.954073242, 449004],
                     ["batch 877 done", 95.061736042, 449004], ["batch 878 done", 95.162994525, 449004],
                     ["batch 879 done", 95.267213692, 449012], ["batch 880 done", 95.369191794, 449012],
                     ["batch 881 done", 95.471337643, 449012], ["batch 882 done", 95.584080142, 449052],
                     ["batch 883 done", 95.691445323, 449120], ["batch 884 done", 95.790277783, 449124],
                     ["batch 885 done", 95.904805835, 449136], ["batch 886 done", 96.010271107, 449152],
                     ["batch 887 done", 96.115736621, 449152], ["batch 888 done", 96.21787984, 449152],
                     ["batch 889 done", 96.316636161, 449152], ["batch 890 done", 96.421033029, 449156],
                     ["batch 891 done", 96.526790531, 449156], ["batch 892 done", 96.636998676, 449160],
                     ["batch 893 done", 96.746959923, 449160], ["batch 894 done", 96.852076053, 449160],
                     ["batch 895 done", 96.960670603, 449164], ["batch 896 done", 97.058528903, 449164],
                     ["batch 897 done", 97.167403082, 449168], ["batch 898 done", 97.271753029, 449168],
                     ["batch 899 done", 97.376051125, 449168], ["batch 900 done", 97.481758119, 449168],
                     ["batch 901 done", 97.589463518, 449168], ["batch 902 done", 97.692433277, 449168],
                     ["batch 903 done", 97.798140176, 449168], ["batch 904 done", 97.907765056, 449168],
                     ["batch 905 done", 98.01338528, 449168], ["batch 906 done", 98.115408142, 449168],
                     ["batch 907 done", 98.218531606, 449172], ["batch 908 done", 98.32668779, 449172],
                     ["batch 909 done", 98.43050558, 449172], ["batch 910 done", 98.534924329, 449172],
                     ["batch 911 done", 98.643985523, 449172], ["batch 912 done", 98.749616523, 449172],
                     ["batch 913 done", 98.85645864, 449172], ["batch 914 done", 98.968258677, 449172],
                     ["batch 915 done", 99.079964663, 449172], ["batch 916 done", 99.186827585, 449172],
                     ["batch 917 done", 99.293518777, 449172], ["batch 918 done", 99.402584986, 449172],
                     ["batch 919 done", 99.504217863, 449172], ["batch 920 done", 99.61099237, 449176],
                     ["batch 921 done", 99.713575208, 449176], ["batch 922 done", 99.815960679, 449176],
                     ["batch 923 done", 99.918107462, 449176], ["batch 924 done", 100.022641029, 449176],
                     ["batch 925 done", 100.130196764, 449176], ["batch 926 done", 100.237013683, 449176],
                     ["batch 927 done", 100.3428825, 449176], ["batch 928 done", 100.445699118, 449176],
                     ["batch 929 done", 100.555080173, 449260], ["batch 930 done", 100.66484467, 449300],
                     ["batch 931 done", 100.770132985, 449300], ["batch 932 done", 100.875147814, 449300],
                     ["batch 933 done", 100.986651884, 449316], ["batch 934 done", 101.091410737, 449316],
                     ["batch 935 done", 101.194173271, 449316], ["batch 936 done", 101.303350396, 449316],
                     ["batch 937 done", 101.412230535, 449316], ["batch 938 done", 101.523383323, 449316],
                     ["batch 939 done", 101.62467238, 449316], ["batch 940 done", 101.724613291, 449316],
                     ["batch 941 done", 101.824687721, 449324], ["batch 942 done", 101.928854209, 449336],
                     ["batch 943 done", 102.031968657, 449336], ["batch 944 done", 102.141091912, 449336],
                     ["batch 945 done", 102.244762869, 449336], ["batch 946 done", 102.355124364, 449336],
                     ["batch 947 done", 102.458761681, 449336], ["batch 948 done", 102.564114098, 449336],
                     ["batch 949 done", 102.666677196, 449340], ["batch 950 done", 102.773099824, 449340],
                     ["batch 951 done", 102.878355392, 449340], ["batch 952 done", 102.983647243, 449340],
                     ["batch 953 done", 103.081037664, 449340], ["batch 954 done", 103.187455573, 449340],
                     ["batch 955 done", 103.293302655, 449340], ["batch 956 done", 103.399656745, 449340],
                     ["batch 957 done", 103.504186329, 449340], ["batch 958 done", 103.611972316, 449340],
                     ["batch 959 done", 103.717182062, 449340], ["batch 960 done", 103.826929172, 449340],
                     ["batch 961 done", 103.934305384, 449340], ["batch 962 done", 104.034158985, 449344],
                     ["batch 963 done", 104.141759571, 449344], ["batch 964 done", 104.244352, 449344],
                     ["batch 965 done", 104.349506833, 449344], ["batch 966 done", 104.456750228, 449360],
                     ["batch 967 done", 104.562540191, 449364], ["batch 968 done", 104.674436816, 449364],
                     ["batch 969 done", 104.781741048, 449364], ["batch 970 done", 104.892397952, 449388],
                     ["batch 971 done", 104.99831606, 449424], ["batch 972 done", 105.102983455, 449428],
                     ["batch 973 done", 105.205743049, 449428], ["batch 974 done", 105.309922203, 449440],
                     ["batch 975 done", 105.417346731, 449464], ["batch 976 done", 105.528890798, 449464],
                     ["batch 977 done", 105.633030757, 449464], ["batch 978 done", 105.739138999, 449476],
                     ["batch 979 done", 105.850279954, 449476], ["batch 980 done", 105.961199972, 449488],
                     ["batch 981 done", 106.064920422, 449492], ["batch 982 done", 106.176074305, 449492],
                     ["batch 983 done", 106.278900511, 449496], ["batch 984 done", 106.392853414, 449496],
                     ["batch 985 done", 106.494173564, 449496], ["batch 986 done", 106.596683767, 449496],
                     ["batch 987 done", 106.698983582, 449496], ["batch 988 done", 106.80435546, 449496],
                     ["batch 989 done", 106.908166505, 449496], ["batch 990 done", 107.026964158, 449496],
                     ["batch 991 done", 107.134908173, 449496], ["batch 992 done", 107.242195633, 449496],
                     ["batch 993 done", 107.340227733, 449496], ["batch 994 done", 107.440132518, 449496],
                     ["batch 995 done", 107.542375037, 449496], ["batch 996 done", 107.652770894, 449496],
                     ["batch 997 done", 107.756317844, 449496], ["batch 998 done", 107.866643962, 449496],
                     ["batch 999 done", 107.975817533, 449496], ["batch 1000 done", 108.08764858, 449496],
                     ]
}


# Helper function for formatting the y-axis
def mb_formatter(x, pos):
    return '{:.1f} MB'.format(x)


# Set up the plot
fig, ax = plt.subplots(figsize=(10, 6))

# Define colors for different lines
colors = ['blue', 'green', 'red', 'purple']
# Define line styles for different lines
line_styles = ['-', '--', '-.', ':']

# Plot each configuration
for (label, data), color, line_style in zip(memory_log.items(), colors, line_styles):
    # Convert memory usage to MB
    timestamps = [int(x[0].split(" ")[1]) for x in data]
    memory_usage = [x[2] / 1024 for x in data]  # Convert KB to MB

    # Plot monitoring points
    monitoring_timestamps = [x[1] for x in data]
    monitoring_memory_usage = [x[2] / 1024 for x in data]
    ax.plot(monitoring_timestamps, monitoring_memory_usage, label=label, color=color, linestyle=line_style, marker='o')

    # # Plot "After batch" points
    # batch_timestamps = [x[1] for x in data if x[0].startswith("After batch")]
    # batch_memory_usage = [x[2] / 1024 for x in data if x[0].startswith("After batch")]
    # ax.scatter(batch_timestamps, batch_memory_usage, color=color, s=100, edgecolors='black', zorder=5)

# Formatting the y-axis
ax.yaxis.set_major_formatter(FuncFormatter(mb_formatter))

# Adding labels and title
ax.set_xlabel('Time (s)', fontsize=14)
ax.set_ylabel('Memory Usage (MB)', fontsize=14)
ax.set_title('Memory Usage Over Time', fontsize=16)
ax.grid(True, linestyle='--', linewidth=0.5)

# Show legend
ax.legend()

# Display the plot
plt.tight_layout()
# plt.show()

# Save the plot
print(f"saving to ./internal/ml/model_slicing/exp_imgs/micro_memory_batch.pdf")
fig.savefig(f"./internal/ml/model_slicing/exp_imgs/micro_memory_batch.pdf", bbox_inches='tight')
